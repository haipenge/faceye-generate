$.fn.serializeObject=function(){var n={},t=this.serializeArray();return $.each(t,function(){n[this.name]!==undefined?(n[this.name].push||(n[this.name]=[n[this.name]]),n[this.name].push(this.value||"")):n[this.name]=this.value||""}),n},function(n,t,r){function k(n){for(var u=b.length,i,t=0;t<u;t++)if(i=b[t][0],i==n)return b[t][1];return r}function tt(n){for(var i=1;i!=12;i++)if(t(n).hasClass("col-md-"+i))break;return i}function h(n){var i=t("#design-canvas").attr("data-control-count");return i=parseInt(i)+1,t("#design-canvas").attr("data-control-count",i),n+i.toString()}function y(n,i){var u=t(i.item).context,r=t(document.getElementById("tabTemplate")).clone();t(r).attr("id",h("tab"));t(".tab-content",r).children().each(function(n){var i=h("");t(this).attr("id","tabContent"+i);t("li:eq("+n+") a",r).attr("href","#tabContent"+i).attr("id","tabLabel"+i)});t(u).replaceWith(r);t(r).click(function(){a+=1});et(r)}function et(n){var r=function(n){t(n).unbind("hover");t(n).hover(function(){var r=t('<div class="tab-toolbar"><span class="glyphicon glyphicon-cog"><\/span><\/div>');t("ul.nav-tabs",n).append(r);t(".glyphicon-cog",r).click(function(n){var f,e,o,s;n.stopPropagation();var a=t(this).hasClass("hasFocus"),r=t("#fieldproperties"),l=t("#tabproperties"),u=t("ul.nav-tabs",t(this).parent().parent().parent());t(".hasFocus").removeClass("hasFocus");r.children().fadeOut(0);l.fadeIn(0);a==!1&&(c="tab");f=function(){t("#__tabItems",r).children().remove();t("li",u).each(function(n,i){var r=t("a",i).text().trim(),u=t("a",i).attr("id"),f=t('<li><div class="input-group"><span class="input-group-addon">&nbsp;<span class="icon-reorder">&nbsp;<\/span>&nbsp;<\/span><input data-id="'+u+'" value="'+r+'" class="form-control" type="text"><span class="input-group-addon">&nbsp;<span class="icon-add">&nbsp;&nbsp;&nbsp;&nbsp;<\/span>&nbsp;<span class="icon-delete">&nbsp;&nbsp;&nbsp;&nbsp;<\/span>&nbsp;<\/span><\/div><\/li>');t("#__tabItems",l).append(f)})};f();e=function(){t("#__tabItems input",r).unbind("keyup");t("#__tabItems input",r).keyup(function(){var n=t(this).attr("data-id"),i=t("#"+n);t(i).text(this.value)})};e();o=function(){t("#__tabItems span.icon-add",r).unbind("click");t("#__tabItems span.icon-add",r).click(function(){var n=h(""),r=t(this).closest("li").index(),l=t(u).children().eq(r),a=t('<li><a id="tabLabel'+n+'" href="#tabContent'+n+'" data-toggle="tab">Undefined<\/a><\/li>'),v=t('<div class="tab-pane" id="tabContent'+n+'"><div class="tab-canvas"><\/div><\/div>'),c;t(a).insertAfter(l);c=t("div.tab-content",t(u).parent()).children().eq(r);v.insertAfter(c);f();o();s();e();i()})};o();s=function(){t("#__tabItems span.icon-delete",r).unbind("click");t("#__tabItems span.icon-delete",r).click(function(){var u=confirm("Delete");if(u==!0){var f=t(this).parent().siblings("input").attr("data-id"),n=t("#"+f),e=t(n).attr("href").replace("#",""),i=t("#"+e),r=t(i).parent().parent().parent();t(this).parent().parent().remove();t(n).hide("slow",function(){t(n).parent().remove();t(i).remove();t("div.tab-content > div",r).length==0&&t(r).remove()})}})};s()})},function(){t(".tab-toolbar",this).remove()})},i;r(n);i=function(){t(n).find(".tab-canvas").each(function(){t(this).sortable({appendTo:"#design-canvas",delay:200,tolerance:"pointer",connectWith:"#design-canvas, .gv-droppable-grid, .tab-canvas",placeholder:"ui-state-highlight",start:function(n,i){var r=g(v,i);i.placeholder.html(t(r).html())},helper:"clone",stop:function(n,t){switch(o){case"menu1Column":case"menu2Columns":case"menu3Columns":case"menu4Columns":case"twoandten":w(n,t,o);break;case"_collapsible":p(n,t);break;case"_tab":y(n,t)}l=null;o=null}})})};i()}function d(){t("#designform ul.pager li").fadeIn(0);t("#designform  ul.pager li:first").fadeOut(0);t("#designform  ul.pager li:last").fadeOut(0)}function vt(n,i){var e=t(i.item).context,r=t(document.getElementById("pageBreakTemplate")).clone(),o=t("ul",r).parent(),u,f;t(r).removeAttr("id");t(e).replaceWith(r);o.click(function(){ct(this)});u=t("#designform");t('[data-role="pagebreak"]',u).length==1&&(f=t(document.getElementById("pageBreakTemplate")).clone(),t(f).attr("id","lastPage").addClass("container lp"),u.append(f));d()}function it(n,i){var u=t(i.item).context,r=t(document.getElementById("panel1Template")).clone(),f=h("panel");t(r).attr("id",f);t(u).replaceWith(r);ot(r,t(".panel-body",r))}function ot(n,i){var e=function(n){t(n).unbind("hover");t(n).hover(function(){var n=t('<div class="panel-toolbar"><span class="glyphicon glyphicon-cog"><\/span><\/div>');t(".accordion-toolbar",t(this)).remove();t(this).append(n);t(".glyphicon-cog",n).click(function(n){var o,i,r,e;n.stopPropagation();t(".hasFocus").removeClass("hasFocus");c="panel";u=t(this).closest(".panel");t(u).addClass("hasFocus");f=t("#fieldproperties");o=u;i=t("#panelproperties");f.children().fadeOut(0);t(i).fadeIn(0);t("#panelHeader",i).val(t(".panel-heading",u).text());t("#panelFooter",i).val(t(".panel-footer",u).text());r=function(){t("#panelHeader",i).unbind("keyup");t("#panelHeader",i).keyup(function(){var n=t(".panel-heading",u),i=this.value;i===""?t(".panel-heading",u).remove():(t(".panel-heading",u).length==0&&(n=t('<div class="panel-heading">'+i+"<\/div>"),t(n).insertBefore(t(".panel-body",u))),t(n).text(i))})};r();e=function(){t("#panelFooter",i).unbind("keyup");t("#panelFooter",i).keyup(function(){var n=t(".panel-footer",u),i=this.value;i===""?t(".panel-footer",u).remove():(t(".panel-footer",u).length==0&&(n=t('<div class="panel-footer">'+i+"<\/div>"),t(n).insertAfter(t(".panel-body",u))),t(n).text(i))})};e()})},function(){var n=t(this);t(".panel-toolbar",n).remove()})},r;e(n);r=function(n){t(n).sortable({appendTo:"#design-canvas",delay:200,tolerance:"pointer",connectWith:"#design-canvas, .gv-droppable-grid, .tab-canvas",start:function(n,t){s=!1;t.placeholder.height("25")},helper:"clone",placeholder:"ui-state-highlight",stop:function(n,t){o=v;switch(o){case"menu1Column":case"menu2Columns":case"menu3Columns":case"menu4Columns":case"twoandten":w(n,t,o);break;case"_collapsible":p(n,t);break;case"_tab":y(n,t);break;case"_panel":it(n,t)}l=null;o=null}})};r(i)}function p(n,i){var f=t(i.item).context,e=t(document.getElementById("panelTemplate")).clone(),r=t(".panel-group",e),u;t(f).replaceWith(r);t(r).click(function(){a+=1});u=h("accordion");t(r).attr("id",u);t("#accTemplate",r).attr("id",h("acc"));t(".panel",r).each(function(){var n=h("");t(".panel-collapse",this).attr("id","accBody"+n);t(".panel-title > a",this).attr("href","#accBody"+n).attr("id","accHeading"+n).attr("data-parent","#"+u)});rt(r,t(".panel-body",r))}function rt(n,i){var e=function(n){t(".panel-heading",n).unbind("hover");t(".panel-heading",n).hover(function(){var n=t('<div class="accordion-toolbar"><span class="glyphicon glyphicon-cog"><\/span><\/div>');t(".accordion-toolbar",t("a",this)).remove();t("a",this).append(n);t(".glyphicon-cog",n).click(function(n){var i,y,o,s,l,a,v;n.stopPropagation();t(".hasFocus").removeClass("hasFocus");c="panel";u=t(this).closest(".panel").parent();f=t("#fieldproperties");i=u;o=t("#accordionproperties");f.children().fadeOut(0);t(o).fadeIn(0);s=function(){t("#__accordionItems",f).children().remove();t("div.panel",i).each(function(){var n=t(".panel-title",this),r;if(n.length>0){var i=t("a",n),u=i.text().trim(),f=i.attr("id");y=h("__a");r=t('<li><div class="input-group"><span class="input-group-addon">&nbsp;<span class="icon-reorder">&nbsp;<\/span>&nbsp;<\/span><input data-id="'+f+'" value="'+u+'" class="form-control" type="text"><span class="input-group-addon">&nbsp;<span class="icon-add">&nbsp;&nbsp;&nbsp;&nbsp;<\/span>&nbsp;<span class="icon-delete">&nbsp;&nbsp;&nbsp;&nbsp;<\/span>&nbsp;<\/span><\/div><\/li>');t("#__accordionItems",o).append(r)}})};s();l=function(){t("#__accordionItems input",f).unbind("keyup");t("#__accordionItems input",f).keyup(function(){var n=t(this).attr("data-id"),i=t("#"+n,u);t(i).text(this.value)})};l();a=function(){t("#__accordionItems span.icon-add",f).unbind("click");t("#__accordionItems span.icon-add",f).click(function(){var n=t("#panelTemplate  .panel").clone(),p=t(this).parent().siblings("input").attr("data-id"),u=h(""),f=t(i).attr("id"),o=t(this).parent().parent().index(),c=t(i).children().eq(o),y=t(i).parent();t(".panel-collapse",y).each(function(n,i){t(i).removeClass("in","slow")});t(".panel-collapse",n).attr("id","accBody"+u);t(".panel-title > a",n).attr("href","#accBody"+u).attr("id","accHeading"+u).attr("data-parent","#"+f);t(n).insertAfter(c);s();a();v();l();rt(i,t(".panel-body",i));e(i);r(t(".panel-body",i))})};a();v=function(){t("#__accordionItems .icon-delete",f).unbind("click");t("#__accordionItems .icon-delete",f).click(function(){var r=t(this).parent().siblings("input").attr("data-id"),n=t("#"+r).closest(".panel"),i;t(this).closest("li").remove();t(n).hide("slow",function(){});i=t(n).parent().parent();t(n).remove();t(".panel",i).length==0&&t(i).remove()})};v()})},function(){var n=t("a",this);t(".accordion-toolbar",n).remove()})},r;e(n);r=function(n){t(n).sortable({appendTo:"#design-canvas",delay:200,tolerance:"pointer",connectWith:"#design-canvas, .gv-droppable-grid, .tab-canvas",placeholder:"ui-state-highlight",start:function(n,t){s=!1;t.placeholder.height("25")},helper:"clone",stop:function(n,t){o=v;switch(o){case"menu1Column":case"menu2Columns":case"menu3Columns":case"menu4Columns":case"twoandten":w(n,t,o);break;case"_collapsible":p(n,t);break;case"_tab":y(n,t)}l=null;o=null}})};r(i)}function ut(i,l,v){var w,g,p;if(v!=r&&v!==r&&v!=null){v=v.replace("_","");var w,tt=h("field"),b=t(l.item).context,d=t(b).parent(),y=t(document.getElementById("controlGroupTemplate")).clone();if(v=="HeroTemplate"){t(b).replaceWith(w);return}if(v=="HorizontalTemplate")y=t(document.getElementById("horizontalGroupTemplate")).clone();else{if(v=="EditorTemplate"){w=t(document.getElementById(v)).clone();t(b).replaceWith(w);t(w).attr("name",tt);t(w).kendoEditor();return}v.replace("Template","").toLowerCase()!=r&&(g=k(v.replace("Template","").toLowerCase()),g!=r&&(w=g.add(y,tt)))}if(t(y).removeAttr("id"),t(y).attr("data-control-type",v.replace("Template","").toLowerCase()),(v!="HeaderTemplate"||v!="ParagraphTemplate")&&d.attr("data-alignment")!=r&&nt(y,d.attr("data-alignment")),d.attr("data-size")!=r){p=d.attr("data-size");switch(p){case"Mini":p="input-mini";break;case"Small":p="input-small";break;case"Medium":p="input-medium";break;case"Large":p="input-large";break;case"Extra Large":p="input-xlarge";break;case"Stretched":p=""}p!=""&&t(".controls",y).removeClass("input-mini").removeClass("input-small").removeClass("input-medium").removeClass("input-large").removeClass("input-xlarge").addClass(p)}t(b).replaceWith(y);t(y).hover(function(){t(this).hasClass("hasFocus")==!1&&t(this).addClass("hoverComponent")},function(){t(this).removeClass("hoverComponent")});t(y).click(function(i){var s,o;(a+=1,s=t(i.target).context.nodeName,u=t(this),"__,SELECT,INPUT,OPTION,TEXTAREA".indexOf(s)>0&&t(u).hasClass("hasFocus"))||(e=new ht(u),c=e.controlType,n.selectedGroup=u,n.selectedProperty=f,n.selectedControlType=c,e.controlType!=r&&(o=k(e.controlType),o!=r&&o.click(u,f)))});v=="HorizontalTemplate"&&t(y).sortable({connectWith:"#_Button",tolerance:"pointer",appendTo:".gv-droppable-grid",helper:"clone",placeholder:"ui-state-highlight",start:function(n,t){s=!1;t.placeholder.height(t.item.height())},stop:function(n,i){var r=t(i.item).context;ut(n,i,v)}});v=null;o=null}}function g(n,i){var o,u;switch(n){case"twoandten":return t('<div class="row"><div class="col-md-2 gv-droppable-grid"><\/div><div class="col-md-10 gv-droppable-grid"><\/div><\/div>');case"menu1Column":return t('<div class="row"><div class="col-md-12  gv-droppable-grid"><\/div><\/div>');case"menu2Columns":return t('<div class="row"><div class="col-md-6 gv-droppable-grid"><\/div><div class="col-md-6 gv-droppable-grid"><\/div><\/div>');case"menu3Columns":return t('<div class="row"><div class="col-md-4 gv-droppable-grid"><\/div><div class="col-md-4 gv-droppable-grid"><\/div><div class="col-md-4 gv-droppable-grid"><\/div><\/div>');case"menu4Columns":return t('<div class="row"><div class="col-md-3 gv-droppable-grid"><\/div><div class="col-md-3 gv-droppable-grid"><\/div><div class="col-md-3 gv-droppable-grid"><\/div><div class="col-md-3 gv-droppable-grid"><\/div><\/div>');case"_tab":return t(document.getElementById("tabTemplate")).clone();case"_collapsible":return t(document.getElementById("panelTemplate")).clone();default:var s=n.replace("_",""),h=t(i.item).context,e=t(h).parent(),f=k(s.replace("Template","").toLowerCase());if(f!=r)return u=t(document.getElementById("controlGroupTemplate")).clone(),f.placeHolder!=r&&(u=f.placeHolder(u)),t(u).removeAttr("id"),e.attr("data-alignment")!=r&&nt(u,e.attr("data-alignment")),t('<div class="row"><\/div>').append(u)}return o}function nt(n,i){t(n).find("label:first").removeClass("control-label").removeClass("control-label-left").removeClass("control-label-right").removeClass("col-sm-3");t(n).find("div.controls").removeClass("control-inline").removeClass("col-sm-9");switch(i){case"Top":t(n).find("label:first").addClass("control-label");t(n).removeClass("form-horizontal");break;case"Right":t(n).find("label:first").addClass("control-label").addClass("col-sm-3");t(n).find("div.controls").addClass("col-sm-9");break;case"Left":t(n).find("label:first").addClass("control-label").addClass("control-label-left").addClass("col-sm-3");t(n).find("div.controls").addClass("col-sm-9")}return n}function w(n,i,r){var u,f;arguments.length==1&&(r=n);u=g(r);t(".gv-droppable-grid",u).attr("data-alignment","Left");arguments.length==1?t("#design-canvas").append(u):(f=t(i.item).context,t(f).replaceWith(u));pt(u)}function st(n,i){var r="";r=t(i).hasClass("gv-droppable-grid")?".gv-droppable-grid, .tab-canvas":"#design-canvas, .gv-droppable-grid, .tab-canvas";t(i).sortable({delay:200,connectWith:"#design-canvas, .gv-droppable-grid, .tab-canvas",tolerance:"pointer",appendTo:"#design-canvas",helper:"clone",start:function(n,i){if(s==!0){var r=g(v,i);i.placeholder.html(t(r).html())}else i.placeholder.height("25")},placeholder:"ui-state-highlight",stop:function(n,t){switch(l){case"menu1Column":case"menu2Columns":case"menu3Columns":case"menu4Columns":case"twoandten":w(n,t,l);break;case"_collapsible":p(n,t);break;case"_tab":y(n,t);break;case"_panel":it(n,t);break;default:l!=null&&ut(n,t,l)}l=null;o=null;s=!1}});t(i).click(function(){var e,i,n,r,u;(a+=1,a==1)&&(e=t(this).hasClass("hasFocus"),t(".hasFocus").removeClass("hasFocus"),e==!1&&(t(this).addClass("hasFocus"),c="column"),i=t(".hasFocus"),f=t("#fieldproperties"),f.children().fadeOut(0),n=t("#columnproperties"),t(n).fadeIn(0),r=t(i).attr("data-alignment"),r!="undefined"&&t('select[data-gv-property="groupalignment"]',n).val(r).attr("selected",!0),u=t(i).attr("data-size"),u!="undefined"&&t('select[data-gv-property="groupsize"]',n).val(u).attr("selected",!0))})}function pt(n){t(".gv-droppable-grid",n).each(function(n,t){st(n,t)})}function wt(){function i(){var n=t("option:selected",u).val();t("select",u).children().remove();t("#__selectOptions > li").each(function(){var n=t('input[type="text"]',this).val();t("select",u).append(t('<option value="'+n+'">'+n+"<\/option>"))});t("select",u).val(n).attr("selected",!0)}f=t("#fieldproperties");t('input[data-gv-property="control-name"]',f).keyup(function(){var n=t(this).val();t(".controls input",u).attr("name",n);t(".controls textarea",u).attr("name",n);t(".controls select",u).attr("name",n)});t('input[data-gv-property="control-id"]',f).keyup(function(){var n=t(this).val();t(".controls input",u).attr("id",n);t(".controls textarea",u).attr("id",n);t(".controls select",u).attr("id",n);t("label",u).attr("for",n)});t('textarea[data-gv-property="control-data-attribute"]',f).keyup(function(){var n=t(this).val();t(".controls input",u).attr("data-bind",n);t(".controls textarea",u).attr("data-bind",n);t(".controls select",u).attr("data-bind",n)});t('input[data-gv-property="label"]',f).keyup(function(){var o=this,i=t(this).val(),r=t(u).find("label:first"),f,n;r.text(i);t(r).removeClass("sr-only");e.isRequired()?r.append(t('<span class="req"> *<\/span>')):i==""&&t(r).addClass("sr-only");e.isAdmin()&&r.prepend(t('<i class="icon-lock"><\/i>'));i!==""&&(f=t(o).parentsUntil(".row").parent().parent().find('input[data-gv-property="control-id"]'),f.length===1&&(n=S(i).camelize(i).s,f.val(n),t(".controls input",u).attr("id",n),t(".controls textarea",u).attr("id",n),t(".controls select",u).attr("id",n),t("label",u).attr("for",n)))});t('input[data-gv-property="value"]',f).keyup(function(){var n=t(this).val(),i=t(u).find('.controls > input[type="text"]:first');i.length>0?i.val(n):t(u).find(".controls > textarea").val(n)});t('input[data-gv-property="placeholder"]',f).keyup(function(){var n=t(this).val();t(u).find('input[type="text"]:first').attr("placeholder",n)});t("#textminvalue, #textmaxvalue",f).keyup(function(){var i=parseInt(t(this).attr("value")),r=this.id=="textminvalue"?"data-minwords":"data-maxwords",n;i<=0||isNaN(i)?(n=t(u).find('.controls > input[type="text"]:first'),n.length>0?n.removeAttr(r):n=t(u).find(".controls > textarea").removeAttr(r)):(n=t(u).find('.controls > input[type="text"]:first'),n.length>0?n.attr(r,i):n=t(u).find(".controls > textarea").attr(r,i))});t("#prevPage",f).keyup(function(){var n=t("li.previous a",u);t(n).text(this.value)});t("#nextPage",f).keyup(function(){var n=t("li.next a",u);t(n).text(this.value)});t("#allowother",f).change(function(){if(t(this).is(":checked")==!0){var i=t('.controls input[type="radio"]:first',u),n=h("field");t(".controls",u).append(t('<div class="radio"><input id="'+h("field")+'" type="radio" name="'+i.attr("name")+'"><input id="'+n+'" type="text" class="form-control"><\/div><\/div>'));t("#"+n,u).keyup(function(){t(this).siblings('input[type="radio"]').val(this.value)})}else t('.controls input[type="radio"]:last',u).parent("div").remove()});t('input[data-gv-property="required"]',f).change(function(){var f=t(u).find("label.control-label, label.control-label-left"),i,o=t('<span class="req"> *<\/span>'),r,n;t(this).is(":checked")==!0?(f.append(o),i=!0):(t(":last",f).remove(),i=!1);switch(e.controlType){case"text":n=t('input[data-role="text"]',u);i==!0?n.attr("required","required"):n.removeAttr("required");break;case"lookup":n=t('input[data-role="lookup"]',u);i==!0?n.attr("required","required"):n.removeAttr("required");break;case"checkbox":i==!0?(r=t('input[type="checkbox"]',u),r.attr("required","required"),labelFor(r[0].name)):(t('input[type="checkbox"]',u).removeAttr("required"),t("label.error",u).remove());break;case"radio":i==!0?t('input[type="radio"]',u).attr("required","required"):t('input[type="radio"]',u).removeAttr("required");break;case"select":i==!0?t("select",u).attr("required","required"):t("select",u).removeAttr("required");break;case"date":n=t('input[data-role="date"]',u);i==!0?n.attr("required","required"):n.removeAttr("required");break;case"time":n=t('input[data-role="time"]',u);i==!0?n.attr("required","required"):n.removeAttr("required");break;case"datetime":n=t('input[data-role="datetime"]',u);i==!0?n.attr("required","required"):n.removeAttr("required");break;case"numeric":n=t('input[data-role="numeric"]',u);i==!0?n.attr("required","required"):n.removeAttr("required");break;case"mask":n=t('input[data-role="mask"]',u);i==!0?n.attr("required","required"):n.removeAttr("required");break;case"textarea":n=t("textarea",u);i==!0?n.attr("required","required"):n.removeAttr("required")}});t("input[name=__role]:radio",f).change(function(){var n=t("input[name=__role]:radio").index(t(this)),i;n>1&&(n=n%2);i=t(u).find("label:first");n==0?t(i).find(".icon-lock:first").remove():t(i).prepend(t('<i class="icon-lock"><\/i>'))});t('input[data-gv-property="sublabel"]',f).keyup(function(){var n=t(this).val(),i;n==""?t(".help-block",u).remove():(i=t(".help-block",u),i.length==0?t('<span class="help-block">'+n+"<\/span>").appendTo(t(".controls",u)):t(i).text(n))});t('#fieldproperties textarea[data-gv-property="hover"]').keyup(function(){var n=t(this).val();n==""?(t(u).removeAttr("rel").removeAttr("data-trigger").removeAttr("data-content").removeAttr("data-original-title"),t(u).popover("destroy")):(t(u).attr("rel","popover").attr("data-trigger","hover").attr("data-content",n).attr("data-original-title",""),t(u).popover())});t('select[data-gv-property="layout"]',f).change(function(){n.spread()});t('select[data-gv-property="alignment"]',f).change(function(){nt(u,t(this).val())});t('select[data-gv-property="groupalignment"]',f).change(function(){var n=t(this).val(),i=t(".hasFocus");t(i).attr("data-alignment",n);t(".form-group",i).each(function(){nt(this,n)})});t('select[data-gv-property="size"]',f).change(function(){var n=null;switch(t(this).val()){case"Mini":n="input-mini";break;case"Small":n="input-small";break;case"Medium":n="input-medium";break;case"Large":n="input-large";break;case"Extra Large":n="input-xlarge"}t(u).find(".controls").removeClass("input-mini").removeClass("input-small").removeClass("input-medium").removeClass("input-large").removeClass("input-xlarge");n!=null&&t(u).find(".controls").addClass(n)});t('select[data-gv-property="groupsize"]',f).change(function(){var n=t(this).val(),i=t(".hasFocus");t(i).attr("data-size",n);t(".form-group",i).each(function(){var i=null;switch(n){case"Mini":i="input-mini";break;case"Small":i="input-small";break;case"Medium":i="input-medium";break;case"Large":i="input-large";break;case"Extra Large":i="input-xlarge"}t(this).find(".controls").removeClass("input-mini").removeClass("input-small").removeClass("input-medium").removeClass("input-large").removeClass("input-xlarge");i!=null&&t(this).find(".controls").addClass(i)})});t("#__tabItems").sortable({axis:"y",placeholder:"ui-state-highlight",cursor:"move",delay:200,helper:"clone",start:function(n,t){s=!1;t.placeholder.height(t.item.height())},stop:function(n,i){var e=t(i.item).context,r=t("input",e).attr("data-id"),o=t("#design-canvas"),u=t("#"+r,o).parent().parent(),f;t("#__tabItems li").each(function(){r=t("input",this).attr("data-id");f=t("#"+r,u).parent();t(f).appendTo(u)})}});t("#__accordionItems").sortable({axis:"y",placeholder:"ui-state-highlight",cursor:"move",delay:200,helper:"clone",start:function(n,t){s=!1;t.placeholder.height(t.item.height())},stop:function(n,i){var f=t(i.item).context,r=t("input",f).attr("data-id"),u=t("#design-canvas"),e=t("#"+r,u),o=t(e).closest(".panel-group");t("#__accordionItems li").each(function(){r=t("input",this).attr("data-id");accordionGroup=t("#"+r,u).closest(".panel");t(accordionGroup).appendTo(o)})}});t("#__selectOptions, #__checkboxOptions, #__radioItems").sortable({axis:"y",placeholder:"ui-state-highlight",cursor:"move",delay:200,helper:"clone",start:function(n,t){t.placeholder.height(t.item.height())},stop:function(){var c,a;if(e.controlType=="select"&&(c=t("option:selected",u).val(),i(),t('#__selectOptions input[type="text"]').each(function(){this.value==c&&t(this).siblings(":radio").attr("checked",!0)})),e.controlType=="checkbox"){var r=t(".controls",u),f=t("<div><\/div>"),h=t("#fieldproperties #"+e.controlType+"properties  #__checkboxOptions"),o,s;t(h).children().each(function(){o=t('input[type="checkbox"]',this).attr("name");t(r).children().each(function(){s=t('input[type="checkbox"]',this).attr("id");o==s&&t(f).append(t(this).clone())})});t(r).children().remove();t(f).children().each(function(){t(r).append(t(this).clone())});n.spread()}if(e.controlType=="radio"){var r=t(".controls",u),f=t("<div><\/div>"),h=t("#fieldproperties #"+e.controlType+"properties  #__radioItems"),o,s,l;h.children().each(function(){o=t('input[type="radio"]',this).attr("id");r.children().each(function(){s="_"+t('input[type="radio"]',this).attr("id");o==s&&f.append(t(this).clone());t('input[type="radio"]:checked',this).length>0&&(l=s)});l==o&&t('input[type="radio"]',this).attr("checked",!0)});a=t("#fieldproperties #allowother:checked");a.length>0&&f.append(t('.controls input[type="radio"]:last',u).parent("div").clone());r.children().remove();f.children().each(function(){r.append(t(this).clone())});n.spread()}}});t("#borderLeft").click(function(){})}function ht(n){this.controlType="";this.label=function(){var i=t(n).find("label:first").clone();return t('span[class*="req"]',i).text(""),i.text()};this.isRequired=function(){return t("#fieldproperties #"+this.controlType+'properties input[data-gv-property="required"]').is(":checked")};this.isAdmin=function(){return t("#fieldproperties #"+this.controlType+'properties input[id="__a"]:radio').attr("checked")=="checked"};this.init=function(){var b=t(n).hasClass("hasFocus"),a,h,v,y,p,r,u,e,w,c,o;if(t(".hasFocus").removeClass("hasFocus"),b==!1?(t(n).removeClass("hoverComponent"),t(n).addClass("hasFocus"),this.controlType=t(n).attr("data-control-type")):t(n).addClass("hoverComponent"),f=t("#fieldproperties"),f.children().fadeOut(0),this.controlType!=""){var s=t(n).find("label:first"),l=t(":first",s).hasClass("icon-lock"),k=t(":last",s).hasClass("req"),i;this.controlType=="textarea"?(i=t(".controls textarea",n),t('input[data-gv-property="control-id"]',f).val(t(i).attr("id")),t('input[data-gv-property="control-name"]',f).val(t(i).attr("name")),t('textarea[data-gv-property="control-data-attribute"]',f).val(t(i).attr("data-bind"))):this.controlType=="select"?(i=t(".controls select",n),t('input[data-gv-property="control-id"]',f).val(t(i).attr("id")),t('input[data-gv-property="control-name"]',f).val(t(i).attr("name")),t('textarea[data-gv-property="control-data-attribute"]',f).val(t(i).attr("data-bind"))):this.controlType=="numeric"?(i=t('.controls > span > span > input[type="text"]:last',n),t('input[data-gv-property="control-id"]',f).val(t(i).attr("id")),t('input[data-gv-property="control-name"]',f).val(t(i).attr("name"))):(i=t(".controls input",n),t('input[data-gv-property="control-id"]',f).val(t(i).attr("id")),t('input[data-gv-property="control-name"]',f).val(t(i).attr("name")),t('textarea[data-gv-property="control-data-attribute"]',f).val(t(i).attr("data-bind")));a=t("#"+this.controlType.toLowerCase()+"properties");t(a).fadeIn(0);t("#"+this.controlType+'properties input[data-gv-property="label"]',f).val(this.label);val=t(n).attr("data-content");t("#"+this.controlType+'properties textarea[data-gv-property="hover"]',f).val(val);h=t(".help-block",n);val="";h.length>0&&(val=t(h).text());t("#"+this.controlType+'properties input[data-gv-property="sublabel"]',f).val(val);v=t("#"+this.controlType+'properties input[id="__a"]:radio',f);y=t("#"+this.controlType+'properties input[id="__e"]:radio',f);t(v).attr("checked",l);t(y).attr("checked",!l);p=t("#"+this.controlType+'properties input[data-gv-property="required"]',f);t(p).prop("checked",k);r=t(n).children("div.controls");u=t("#"+this.controlType+'properties select[data-gv-property="size"]',f);t(u).val("Stretched").attr("selected",!0);t(r).hasClass("input-mini")&&t(u).val("Mini").attr("selected",!0);t(r).hasClass("input-small")&&t(u).val("Small").attr("selected",!0);t(r).hasClass("input-medium")&&t(u).val("Medium").attr("selected",!0);t(r).hasClass("input-large")&&t(u).val("Large").attr("selected",!0);t(r).hasClass("input-xlarge")&&t(u).val("Extra Large").attr("selected",!0);(this.controlType=="checkbox"||this.controlType=="radio")&&(e=t("#"+this.controlType+'properties select[data-gv-property="layout"]',f),t(e).val("One Column").attr("selected",!0),t(r).children().hasClass("col-md-6")&&t(e).val("Two Columns").attr("selected",!0),t(r).children().hasClass("col-md-3")&&t(e).val("Four Columns").attr("selected",!0),t(r).children().hasClass("col-md-4")&&t(e).val("Three Columns").attr("selected",!0),t(r).children().hasClass("inline")&&t(e).val("Inline").attr("selected",!0));w=t("#"+this.controlType+'properties select[data-gv-property="alignment"]',f);c="Top";t(n).hasClass("form-horizontal")&&(c=t(s).hasClass("control-label-left")?"Left":"Right");t(w).val(c).attr("selected",!0);o=t('input[type="text"]:first',n);o.length>0&&(t("#"+this.controlType+'properties input[data-gv-property="value"]',f).val(o.val()),t("#"+this.controlType+'properties input[data-gv-property="placeholder"]',f).val(o.attr("placeholder")))}};this.init();n:{this.value=function(){return t(n).find(".controls > input:first").val()}}}function bt(){var i=t("#design-canvas"),o;t('[data-role="select"]',i).each(function(){});t('[data-role="date"]',i).each(function(){t(this).kendoDatePicker();var n=t(this).data("kendoDatePicker")});t('[data-role="datetime"]',i).each(function(){var n=t(this).kendoDateTimePicker().data("kendoDateTimePicker")});t('[data-role="time"]',i).each(function(){t(this).kendoTimePicker();var n=t(this).data("kendoTimePicker")});t('[data-role="numeric"]',i).siblings(".k-select").remove();t('[data-role="numeric"]',i).each(function(){t(this).kendoNumericTextBox();var n=t(this).data("kendoNumericTextBox")});t('[data-role="mask"]',i).each(function(){t(this).inputmask(t(this).attr("data-mask"))});o=function(n){var u=n.attr("data-property-orientation"),f=n.attr("data-property-min"),e=n.attr("data-property-max"),o=n.attr("data-property-showbutton"),t=n.clone(),i=n.parentsUntil(".controls"),r;i.children().remove();t.css("display","");i.append(t);r=t.kendoSlider().data("kendoSlider")};t('[data-role="slider"]',i).each(function(){o(t(this))});t('[data-role="editor"]',i).each(function(){var n=t(this).kendoEditor()});t('[data-role="datatable"]',i).each(function(n,i){t(i).bootstrapTable("destroy")});t('[data-role="datatable"]',i).each(function(n,i){var r=t(i).attr("data-striped")=="true",u=t(i).attr("data-hover")=="true",f=t(i).attr("data-pagination")=="true",e=t(i).attr("data-show-refresh")=="true",o=t(i).attr("data-search")=="true",s=t(i).attr("data-show-columns")=="true";t(i).bootstrapTable({hover:u,pagination:f,striped:r,search:o,showRefresh:e,showColumns:s})});t(".form-group",i).hover(function(){t(this).hasClass("hasFocus")==!1&&t(this).addClass("hoverComponent")},function(){t(this).removeClass("hoverComponent")});t(".form-group",i).click(function(i){var s,o;(a+=1,s=t(i.target).context.nodeName,u=t(this),"__,SELECT,INPUT,OPTION,TEXTAREA".indexOf(s)>0&&t(u).hasClass("hasFocus"))||(e=new ht(u),c=e.controlType,n.selectedControlType=e.controlType,n.selectedProperty=f,n.selectedGroup=u,e.controlType!=r&&(o=k(e.controlType),o!=r&&o.click(u,f)))});t("div.gv-droppable-grid",i).each(function(n,t){st(n,t)});t("div.panel-group",i).each(function(){rt(this,t(".panel-body",this))});t('div[data-role="panel"]',i).each(function(){ot(this,t(".panel-body",this))});t('div[data-role="tab"]',i).each(function(){et(this)});t("div.gv-page",i).each(function(){t(this).click(function(){ct(this)})});d()}function ct(n){var e,i,r;u=n;e=t(n).hasClass("hasFocus");t(".hasFocus").removeClass("hasFocus");e==!1&&(t(n).addClass("hasFocus"),c="pagebreak");f=t("#fieldproperties");pageProperties=t("#pageproperties");liPrev=t("li.previous",n);liNext=t("li.next",n);f.children().fadeOut(0);pageProperties.fadeIn(0);i=t("#nextPage",f);t(liNext).is(":hidden")==!0?t(i).parent().parent().parent().hide():(t(i).parent().parent().parent().show(),t(i).val(t("a",liNext).text()));r=t("#prevPage",f);t(liPrev).is(":hidden")==!0?t(r).parent().parent().parent().hide():(t(r).parent().parent().parent().show(),t("#prevPage",f).val(t("a",liPrev).text()))}var b=[],u,f,e,c,l,o,v,s,a,at,yt,lt,ft;n.register=function(n,t){b.push([n,t])};n.newName=function(n){var i=t("#design-canvas").attr("data-control-count");return i=parseInt(i)+1,t("#design-canvas").attr("data-control-count",i),n+i.toString()};a=0;at=0;n.selectedGroup=u;n.selectedProperty=f;n.selectedControlType=c;t("#removeMenu").click(function(){var n=t("#design-canvas .hasFocus"),i=0,o,r,f,u,e,s;if(c=="column"){o=t(n).siblings();i=tt(n);i!=12?t(n).next().length>0?(r=t(n).next(),f=tt(r),t(r).removeClass("col-md-"+f),t(r).addClass("col-md-"+(i+f)),t(n).hide("slow",function(){t(n).remove()})):(u=t(n).prev(),e=tt(u),t(u).removeClass("col-md-"+e),t(u).addClass("col-md-"+(i+e)),t(n).hide("slow",function(){t(n).remove()})):t(n).parent().hide("slow",function(){t(n).parent().remove()});switch(o.length){}}else c=="tab"?t(n).remove():c=="pagebreak"?(t(n).parent().remove(),s=t("#design-canvas"),t(".gv-page",s).length==0&&t("#lastPage").remove(),d()):c=="panel"?t(n).remove():t(n).hide("slow",function(){t(n).remove()})});t("#addTabs").click(function(){var n=t(document.getElementById("tabTemplate")).clone(),i;t(n).attr("id",h("tab"));t(".tab-content",n).children().each(function(i){var r=h("");t(this).attr("id","tabContent"+r);t("li:eq("+i+") a",n).attr("href","#tabContent"+r).attr("id","tabLabel"+r)});t("#design-canvas").append(n);t(n).find(".tab-canvas").each(function(){t(this).sortable({appendTo:"#design-canvas",delay:200,tolerance:"pointer",connectWith:"#design-canvas, .gv-droppable-grid, .tab-canvas",helper:"clone",start:function(n,t){s=!1;t.placeholder.height("25")},placeholder:"ui-state-highlight",stop:function(){}})});t(n).click(function(){var n=t(this).hasClass("hasFocus");n==!1});i=function(n){t(n).unbind("hover");t(n).hover(function(){var n=t('<div class="tab-toolbar"><i class="item icon-cog"><\/i><\/div>');t(this).append(n);t(".icon-cog",n).click(function(){var s=t(this).hasClass("hasFocus"),n=t("#fieldproperties"),o=t("#tabproperties"),i=t("ul.nav-tabs",t(this).parent().parent()),r,u,f,e;t(".hasFocus").removeClass("hasFocus");n.children().fadeOut(0);o.fadeIn(0);s==!1&&(c="tab");r=function(){t("#__tabItems",n).children().remove();t("li",i).each(function(n,i){var r=t("a",i).text().trim(),u=t("a",i).attr("id"),f=t('<li"><div class="form-horizontal"><input data-id="'+u+'" class="input-medium prop-option" value="'+r+'" type="text" /> <i class="icon-add" ><\/i> <i class="icon-delete" ><\/i><i class="icon-reorder"><\/i><\/div><\/li>');t("#__tabItems",o).append(f)})};r();u=function(){t("#__tabItems input",n).unbind("keyup");t("#__tabItems input",n).keyup(function(){var n=t(this).attr("data-id"),i=t("#"+n);t(i).text(this.value)})};u();f=function(){t("#__tabItems .icon-add",n).unbind("click");t("#__tabItems .icon-add",n).click(function(){var n=h(""),o=t('<li><a id="tabLabel"'+n+'" href="#tabContent'+n+'" data-toggle="tab">Undefined<\/a><\/li>'),s=t('<div class="tab-pane" id="tabContent'+n+'"><div class="tab-canvas"><\/div><\/div>');t("ul.nav-tabs",t(i).parent()).append(o);t("div.tab-content",t(i).parent()).append(s);r();f();e();u()})};f();e=function(){t("#__tabItems .icon-delete",n).unbind("click");t("#__tabItems .icon-delete",n).click(function(){var i=t(this).siblings("input").attr("data-id"),n=t("#"+i),r=t(n).attr("href").replace("#",""),u=t("#"+r);t(this).parent().parent().remove();t(n).hide("slow",function(){t(n).parent().remove();t(u).remove()})})};e()})},function(){t(".tab-toolbar",this).remove()})};i(n);t(n).find(".gv-droppable-grid").each(function(n,i){t(i).sortable({connectWith:"#design-canvas, .gv-droppable-grid, .tab-canvas",delay:200,tolerance:"pointer",appendTo:"#design-canvas",helper:"clone",start:function(n,t){s=!1;t.placeholder.height("25")},placeholder:"ui-state-highlight",stop:function(n,t){ut(n,t,l);l=null}});t(i).click(function(){a+=1})})});t("#addPageBreak").click(function(){var n=t(document.getElementById("pageBreakTemplate")).clone();t("#design-canvas").append(n);t(n).attr("id",h("pb"));t("ul",n).parent().click(function(){var n=t(this).hasClass("hasFocus");t(".hasFocus").removeClass("hasFocus");n==!1&&(t(this).addClass("hasFocus"),c="pagebreak")})});yt=function(){var n=0;return function(t,i){clearTimeout(n);n=setTimeout(t,i)}}();n.spread=function(){var n,f=0,o=!1,r=0,s=t("#fieldproperties #"+e.controlType+'properties select[data-gv-property="layout"] option:selected').val();switch(s){case"Inline":n="inline";e.controlType=="radio";break;case"One Column":n="";break;case"Two Columns":n="col-md-6";r=2;break;case"Three Columns":n="col-md-4";r=3;break;case"Four Columns":n="col-md-3";r=4}t(".controls",u).children().each(function(){for(f=f+1,i=0;i!=12;i++)t(this).removeClass("col-md-"+i).removeClass("field-layout-reset radio-inline checkbox-inline");e.controlType=="checkbox"?t(this).addClass("checkbox"):e.controlType=="radio"&&t(this).addClass("radio");r!=0?(t(this).addClass(n),o==!0&&t(this).addClass("field-layout-reset"),o=f%r==0?!0:!1):n=="inline"&&(e.controlType=="checkbox"?t(this).addClass("checkbox-inline").removeClass("checkbox"):e.controlType=="radio"&&t(this).addClass("radio-inline").removeClass("radio"))})};n.Initialize=function(){var u=t("#designform"),i,n,r;t("#fieldproperties").children().fadeOut();t("[rel=tooltip]").tooltip();t("[rel=popover]").popover();t("#design-canvas").click(function(){a=0});t("#preview").click(function(){var u=t(window).height()*.9,s=(t(window).height()-u)/2,f=t(window).width()*.7,h=(t(window).width()-f)/2,r=t("#modalPreview").clone(!1).css({height:u,"max-height":u,"max-width":f,width:f,overflow:"hidden"}),o=t(".modal-body",r).empty().css({"max-height":u,height:u,"max-width":f,width:f,overflow:"hidden",padding:"20px"}),c=t("#design-canvas").html(),i=t('<div class="form-horizontal"><\/div>').append(c),e;t("[id]",i).each(function(n,r){var u=t(r).attr("id"),f,o,e,s;t(r).attr("id",u+"__prev");f=t('[href="#'+u+'"]',i);o=t(f).attr("href");t(f).attr("href",o+"__prev");e=t('[data-parent="#'+u+'"]',i);s=t(e).attr("data-parent");t(e).attr("data-parent",s+"__prev")});t("div",i).each(function(){t(this).before(" ").after(" ")});t('[data-role="pagebreak"]',i).length>0&&(t(i).append(t("#designform #lastPage").clone(!1,!1).removeClass("container").removeClass("lp")),e=0,t(i).children().each(function(){var n,i;t(this).attr("data-role")=="pagebreak"?e=e+1:(n=t(this).siblings('[data-role="pagebreak"]:eq('+e+")"),t(this).appendTo(n),i=t("div.gv-page",n),t(i).appendTo(n))}));t("div",i).removeClass("mcanvas").removeClass("ui-sortable");t("input select",i).removeAttr("id");t("div",i).removeAttr("data-control-count").removeAttr("data-width");t("div",i).removeAttr("data-control-type");t("input",i).removeAttr("data-role");t("div",i).removeAttr("data-alignment");t(".ui-sortable",i).removeClass("ui-sortable");t(".form-group-m",i).removeClass("form-group-m");t(".hasFocus",i).removeClass("hasFocus");t(".hoverComponent",i).removeClass("hoverComponent");t(".gv-page",i).removeClass("gv-page");t(i).find(".gv-droppable-grid").each(function(){t(this).removeClass("gv-droppable-grid")});t(i).find("readonly").each(function(){t(this).removeClass("readonly")});t(o).append(i);t(r).css({"margin-top":function(){return s},"margin-left":function(){return h}}).removeClass("hidden").on("hidden.bs.modal",function(){t(o).empty()}).on("shown.bs.modal",function(){alert("D")}).modal("show");t(o).lionbars();t('[data-role="pagebreak"]',i).fadeOut(0);t('[data-role="pagebreak"]:first',i).fadeIn(0);t("#fullsize",r).click(function(){t(r).css("height","100%").css("max-height","100%").css("margin-top","0px").css("width","100%").css("max-width","100%").css("margin-left","0px");t(".modal-body",r).css("height","100%").css("max-height","100%").css("margin-top","0px").css("width","100%").css("max-width","100%").css("margin-left","0px");t("#presize",r).css("visibility","visible").css("width","");t("#pfullsize",r).css("visibility","hidden").css("width","0px")});t("#presize",r).click(function(){t("#presize",r).css("visibility","hidden").css("width","0px");t("#pfullsize",r).css("visibility","visible").css("width","");var n=t(window).height()*.9,u=(t(window).height()-n)/2,i=t(window).width()*.7,f=(t(window).width()-i)/2;t(r).css("height",n).css("max-height",n).css("margin-top",u).css("width",i).css("max-width",i).css("margin-left",f);t(".modal-body",r).css("height",n).css("max-height",n).css("margin-top",u).css("width",i).css("max-width",i)});t("#previewDownload",r).click(function(t){t.preventDefault();n(!0)});t('[data-role="pagebreak"]',i).find("li.previous").click(function(){var n=t(this).closest('[data-role="pagebreak"]');n.fadeOut(0);n.prev().fadeIn(0)});t('[data-role="pagebreak"]',i).find("li.next").click(function(){var n=t(this).closest('[data-role="pagebreak"]');n.fadeOut(0);n.next().fadeIn(0)})});t("#publish").click(function(){lt(!1)});t("#download").click(function(t){t.preventDefault();n(!0)});i=function(){var n=t("#designform").attr("data-id");t.ajax({type:"get",url:"../settings",data:{id:n},cache:!1,success:function(n){var i=t("#modalAction .modal-body").text("");t("#modalAction .modal-body").css({"max-height":function(){return t("#wrap").height()}});t(i).append(n);t("#modalAction").css({width:function(){return t(window).width()*.6},"margin-top":function(){var n=t(window).height()*.9;return(t(window).height()-n)/2},"margin-left":function(){var n=t(window).width()*.7;return(t(window).width()-n)/2}}).removeClass("hidden").modal("show")}})};t("#menuFormSetting").click(function(){i()});t("#save").click(function(){n()});n=function(n){var s=JSON.stringify(t("#designform").serializeObject()),r=t("#designform"),u,f,e,i,o;t('[data-role="datatable"]',r).each(function(n,i){t(i).bootstrapTable("destroy")});u=t(r).clone().html();f=escape(u);t('[data-role="datatable"]',r).each(function(n,i){var r=t(i).attr("data-striped")=="true",u=t(i).attr("data-hover")=="true",f=t(i).attr("data-pagination")=="true",e=t(i).attr("data-show-refresh")=="true",o=t(i).attr("data-search")=="true",s=t(i).attr("data-show-columns")=="true",h=t(i).attr("data-height"),c=t(i).attr("data-url");t(i).bootstrapTable({hover:u,pagination:f,striped:r,search:o,showRefresh:e,showColumns:s,height:h,url:c})});e=t("#designform").attr("data-id");i=t("#formid").val();i==""&&(i="Untitled");o=t("#save").attr("data-url");t.ajax({type:"post",url:o,data:{type:1,id:e,data:f,fieldLabel:i},cache:!1,success:function(n){t("#formId").val(n);t("#designform").attr("data-id")!=n&&t("#designform").attr("data-id",n)}}).done(function(){n===!0&&ft(!0)})};t("#modalActionSave").click(function(){var n=JSON.stringify(t("#modalAction form").serializeObject()),i=t("#designform").attr("data-id");t.ajax({type:"post",url:"../save",data:{type:2,id:i,data:n},cache:!1,success:function(){t("#modalAction").modal("hide");var n=t("#modalAction .modal-body").text("")}})});t("#design-canvas").sortable({connectWith:"#design-canvas, .gv-droppable-grid, .tab-canvas",delay:200,cursor:"move",tolerance:"pointer",appendTo:"#design-canvas",placeholder:"ui-state-highlight",helper:"clone",start:function(n,i){if(s==!0){var r=g(v,i);i.placeholder.html(t(r).html())}else i.placeholder.height("25")},stop:function(n,t){if(s==!0)switch(o){case"_PageBreak":vt(n,t);break;case"menu1Column":case"menu2Columns":case"menu3Columns":case"menu4Columns":case"twoandten":w(n,t,o);break;case"_collapsible":p(n,t);break;case"_tab":y(n,t);break;case"_panel":it(n,t)}d();o=null;l=null;s=!1}});t(".formControl").draggable({connectToSortable:".gv-droppable-grid",cursor:"move",revert:!0,helper:"clone",appendTo:"#design-canvas",placeholder:"formControl",start:function(){l=t(this).attr("id");o=null;v=t(this).attr("id");s=!0}});t(".widgetContainer").draggable({connectToSortable:".gv-droppable-grid",cursor:"move",revert:!0,helper:"clone",appendTo:"#design-canvas",placeholder:"widgetContainer",start:function(){l=t(this).attr("id");o=null;v=t(this).attr("id");s=!0}});t(".formContainer").draggable({connectToSortable:"#design-canvas, .gv-droppable-grid, .tab-canvas",cursor:"move",revert:!0,helper:"clone",appendTo:"#design-canvas",placeholder:"formContainer",start:function(){o=t(this).attr("id");l=t(this).attr("id");v=t(this).attr("id");s=!0}});t(".pageBreak").draggable({connectToSortable:"#design-canvas",cursor:"move",revert:!0,helper:"clone",appendTo:"#design-canvas",placeholder:"formContainer",start:function(){o=t(this).attr("id");l=t(this).attr("id");s=!0},stop:function(){t("#design-canvas").sortable({connectWith:".tab-canvas, .gv-droppable-grid"})}});wt();bt();r=t("#formId").val()};lt=function(n){t("#designform").attr("data-id")=="00000000-0000-0000-0000-000000000000"||ft(n)};ft=function(n){var r=t("#design-canvas").clone(!1,!1).attr("id","designform"),u,e,s,h;t('[data-role="pagebreak"]',r).length>0&&(t(r).append(t("#designform #lastPage").clone(!1,!1)),u=0,t(r).children().each(function(){var n,i;t(this).attr("data-role")=="pagebreak"?u=u+1:(n=t(this).siblings('[data-role="pagebreak"]:eq('+u+")"),t(this).appendTo(n),i=t("div.gv-page",n),t(i).appendTo(n))}));t("div",r).removeClass("mcanvas").removeClass("ui-sortable");t("#design-canvas",r).attr("id","formentry");t("div",r).removeAttr("data-control-count").removeAttr("data-width").removeAttr("data-alignment").removeAttr("data-control-type");t(".ui-sortable",r).removeClass("ui-sortable");t(".form-group-m",r).removeClass("form-group-m");t(".hasFocus",r).removeClass("hasFocus");t(".hoverComponent",r).removeClass("hoverComponent");t(".gv-page",r).removeClass("gv-page");t(".gv-container",r).removeClass("gv-container");t(".tab-canvas",r).removeClass("tab-canvas");t(r).find(".gv-droppable-grid").each(function(){t(this).removeClass("gv-droppable-grid")});t(r).find(".readonly").each(function(){t(this).removeClass("readonly")});i=0;t(r).find("div.controls").each(function(){i=i+1;id="errId"+i;t(this).append(t('<span id="'+id+'" class="error"><\/span>'));t("select",this).attr("data-parsley-errors-container","#"+id);t("input[type=text]",this).attr("data-parsley-errors-container","#"+id);t("input[type=checkbox]:first-child",this).attr("data-parsley-errors-container","#"+id);t("input[type=radio]:first-child",this).attr("data-parsley-errors-container","#"+id);t("textarea",this).attr("data-parsley-errors-container","#"+id)});var o=t("#designform").attr("data-id"),c=escape(t(r).html()),f=t("#design-canvas").clone(!1);t(f).find("span.req").each(function(){t(this).remove("span.req")});t(f).find("i.icon-lock").each(function(){t(this).remove("i.icon-lock")});e={};t('label[for^="field"]',f).each(function(){e[this.htmlFor]=this.innerHTML});s=JSON.stringify(e);h=t("#save").attr("data-url");t.ajax({type:"post",url:h,data:{type:3,id:o,data:c,fieldLabel:escape(s)},cache:!1,success:function(n){t("#formId").val(n);n=="00000000-0000-0000-0000-000000000000"&&saveForm(!0)}}).done(function(){if(n===!0&&t("#designform").attr("data-id")!="00000000-0000-0000-0000-000000000000"){var i=t("#formid").val();i||(i="Untitled");i=i.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"-");downloadFile("/Dashboard/form/index/"+o,i+".html")}})}}(window.gvDesigner=window.gvDesigner||{},jQuery);$(function(){var t;gvDesigner.register("button",function(){var i={};return i.click=function(i,r){var e,u,l,o,s,a,v,y,p,w,f,b,h,c,k;t=i;e=$("#__buttons",r);u=$("#fieldproperties");e.children().remove();$("button",t).each(function(){val="";n=gvDesigner.newName("__o");var t=$(this).attr("id"),i=$('<li><div class="input-group"><span class="input-group-addon">&nbsp;<span class="icon-reorder">&nbsp;<\/span>&nbsp;<input id="_'+n+'" data-id="'+t+'" type="radio" name="seloption"'+val+'>&nbsp;<\/span><input data-id="'+t+'" value="'+$(this).text()+'" class="form-control" type="text"><span class="input-group-addon">&nbsp;<span class="icon-add">&nbsp;&nbsp;&nbsp;&nbsp;<\/span>&nbsp;<span class="icon-delete">&nbsp;&nbsp;&nbsp;&nbsp;<\/span>&nbsp;<\/span><\/div><\/li>');$("#fieldproperties #__buttons").append($(i))});l=function(){$("#buttonOption > li").click(function(){var r=$(this).closest("div.input-group"),u=$("input",r).attr("data-id"),n=$("#"+u,t),i;$("#buttonOption > li").each(function(){var t=$("a",this).attr("data-class");$(n).hasClass(t)&&$(n).removeClass(t)});i=$("a",this).attr("data-class");$(n).addClass(i)})};l();o=function(){$('#__buttons input[type="text"]',u).unbind("keyup");$('#__buttons input[type="text"]',u).keyup(function(){var n=$(this).attr("data-id"),t=$("#"+n);$(t).text(this.value)})};o();s=function(){$("input[name='seloption']",u).change(function(){var n=$("input[name='seloption']",u),i=n.index(n.filter(":checked"));$("button",t).each(function(n,t){n==i&&($("#butpropId",u).val($(t).attr("id")),$("#butpropName",u).val($(t).attr("name")),$("#butpropStyle > option").each(function(){var n=$(this).val();$(t).hasClass(n)&&$(this).prop("selected",!0)}))})})};s();a=function(){$("#butpropId",u).unbind("keyup");$("#butpropId",u).keyup(function(){var i=$(this).val(),n=$("input[name='seloption']",u),r=n.index(n.filter(":checked"));$("button",t).each(function(n,t){n==r&&$(t).attr("id",i)})})};a();v=function(){$("#butpropName",u).unbind("keyup");$("#butpropName",u).keyup(function(){var i=$(this).val(),n=$("input[name='seloption']",u),r=n.index(n.filter(":checked"));$("button",t).each(function(n,t){n==r&&$(t).attr("name",i)})})};v();y=function(){$("#butpropStyle").change(function(){var i=$(this).val(),n=$("input[name='seloption']",u),r=n.index(n.filter(":checked"));$("button",t).each(function(n,t){n==r&&$(t).removeClass("btn-default").removeClass("btn-primary").removeClass("btn-success").removeClass("btn-info").removeClass("btn-warning").removeClass("btn-danger").removeClass("btn-link").addClass(i)})})};y();$("input[name='seloption']:first",u).attr("checked",!0).change();p=function(){$("#butpropSize").change(function(){var n=$(this).val();$("button",t).each(function(t,i){$(i).removeClass("btn-default").removeClass("btn-lg").removeClass("btn-sm").removeClass("btn-xs").addClass(n)})})};p();w=$("button:first-child",t);$("#butpropSize> option").each(function(){var n=$(this).val();$(w).hasClass(n)&&$(this).prop("selected",!0)});f=$(t).hasClass("group-inline");$("#__butgrpinline").prop("checked",f);$("#__butgrpinline").change(function(){$(this).is(":checked")==!0?$(t).addClass("group-inline"):$(t).removeClass("group-inline")});f=$(t).hasClass("pull-right");$("#__rightalign").prop("checked",f);$("#__rightalign").change(function(){$(this).is(":checked")==!0?$(t).addClass("pull-right"):$(t).removeClass("pull-right")});b=$(t).hasClass("btn-group");$("#__butgrpit").prop("checked",b);$("#__butgrpit").change(function(){$(this).is(":checked")==!0?$(t).addClass("btn-group"):$(t).removeClass("btn-group")});$("span.icon-add",e).click(function(){h(this)});$("span.icon-delete",e).click(function(){c(this)});h=function h(i){var f=$(i).closest("li"),a=f.index(),v=$("button",t).parent(),e=gvDesigner.newName("button"),u=$('<li><div class="input-group"><span class="input-group-addon">&nbsp;<span class="icon-reorder">&nbsp;<\/span>&nbsp;<input id="_'+n+'" type="radio" name="seloption"'+val+'>&nbsp;<\/span><input data-id="'+e+'" value="Button" class="form-control" type="text"><span class="input-group-addon">&nbsp;<span class="icon-add">&nbsp;&nbsp;&nbsp;&nbsp;<\/span>&nbsp;<span class="icon-delete">&nbsp;&nbsp;&nbsp;&nbsp;<\/span>&nbsp;<\/span><\/div><\/li>'),r,l;u.insertAfter(f);r=$("#ButtonTemplate").clone();$(r).attr("id",e);l=$(v).children().eq(a);$(r).insertAfter(l);r.before(" ").after(" ");$(r).ready(function(){o();s();$("span.icon-add",u).click(function(){h(this)});$("span.icon-delete",u).click(function(){c(this)})})};c=function(n){var i=$(n).closest("li"),r;i.siblings().length>0&&(r=$(n).parent().siblings("input").attr("data-id"),$("#"+r,t).remove(),$(i).remove())};$("#__buttons").sortable({axis:"y",placeholder:"ui-state-highlight",cursor:"move",delay:200,helper:"ui-state-highlight",start:function(n,t){isNewWidget=!1;t.placeholder.height(t.item.height())},stop:function(n,t){var u=$(t.item).context,i=$('input[type="text"]',u).attr("data-id"),r=$("#design-canvas"),f=$("#"+i,r).parent();$("#__buttons li").each(function(){i=$('input[type="text"]',this).attr("data-id");var n=$("#"+i,r);$(n).appendTo(f);n.before(" ").after(" ")})}});k=function(){var n=0;return function(t,i){clearTimeout(n);n=setTimeout(t,i)}}()},i.add=function(n){t=n;var i=$("#ButtonTemplate").clone(),r=gvDesigner.newName("button");return $(".controls",n).remove(),$("div.error",n).remove(),$("label:first",n).remove(),$(i).attr("id",r).appendTo(n),i},i.delete=function(){alert("delete")},i.placeHolder=function(){return $('<div class="form-group"><button type="button" class="btn btn-default">Button<\/button><div>')},i}())});$(function(){var n;gvDesigner.register("checkbox",function(){function i(){var t=$('input[type="checkbox"]',n).first(),i=$("#checkboxmin").data("kendoNumericTextBox"),u=i.value(),r;i=$("#checkboxmax").data("kendoNumericTextBox");r=i.value();t.removeAttr("data-parsley-mincheck");t.removeAttr("data-parsley-maxcheck");u>0&&t.attr("data-parsley-mincheck",u);r>0&&t.attr("data-parsley-maxcheck",r)}var t={};return $("#checkboxmin, #checkboxmax").kendoNumericTextBox({change:i,spin:i,min:0}),t.click=function(t,i){function c(){var i=$('input[type="checkbox"]',n).length,t=$("#checkboxmin").data("kendoNumericTextBox");t.max(i);t=$("#checkboxmax").data("kendoNumericTextBox");t.max(i)}function l(t){var i=$(t).parent().parent().index(),r=$(t).is(":checked");$(".controls",n).children().each(function(){$(this).index()==i&&$('input[type="checkbox"]',this).attr("checked",r)})}function a(t){var u=$(t).parent().parent().parent(),r=gvDesigner.newName("__r"),e=gvDesigner.newName("checkbox"),i=$('<li id="'+r+'"><div class="input-group"><span class="input-group-addon">&nbsp;<span class="icon-reorder">&nbsp;<\/span>&nbsp;<input id="_'+r+'" name="'+o+'" type="checkbox">&nbsp;<\/span><input class="form-control prop-option"  name="rdchecklabel" type="text" /><input class="form-control prop-option"  name="rdcheckname" type="text" /><input class="form-control prop-option"  name="rdcheckid" type="text" /><span class="input-group-addon">&nbsp;<span class="icon-add">&nbsp;&nbsp;&nbsp;&nbsp;<\/span>&nbsp;<span class="icon-delete">&nbsp;&nbsp;&nbsp;&nbsp;<\/span>&nbsp;<\/span><\/div><\/li>'),f;i.insertAfter($(u));$("input[name='rdcheckname']",i).fadeOut(0);$("input[name='rdcheckid']",i).fadeOut(0);f=u.index();$(".controls",n).children().each(function(){if($(this).index()==f){r=$('input[type="checkbox"]',this).attr("name");var n=$('<label class="checkbox"><input id="'+e+'" name="'+r+'" type="checkbox" ><\/label>');$(n).insertAfter($(this))}});$('input[name="rdchecklabel"]',i).keyup(function(){y(this)});$('input[name="rdcheckname"]',i).keyup(function(){p(this)});$('input[name="rdcheckid"]',i).keyup(function(){w(this)});$('input[type="checkbox"]',i).change(function(){l(this)});$("span.icon-add",i).click(function(){a(this)});$("span.icon-delete",i).click(function(){v(this)});c()}function v(t){var i=$(t).parent().parent().parent(),r=i.index();i.siblings().length>0&&$(i).remove();$(".controls",n).children().each(function(){$(this).index()==r&&($(this).remove(),r=-99)});gvDesigner.spread();c()}function y(t){var r=$(t).parent().parent().index(),i=$(t).val();f(function(){$(".controls",n).children().each(function(){if($(this).index()==r){var n=$('input[type="checkbox"]',this);$(this).text(i);$(n).attr("value",i);$(this).prepend(n)}})},300)}function p(t){var i=$(t).parent().parent().index(),r=$(t).val();f(function(){$(".controls",n).children().each(function(){if($(this).index()==i){var n=$('input[type="checkbox"]',this);$(n).attr("value",r)}})},300)}function w(t){var r=$(t).parent().parent().index(),i=$(t).val();f(function(){$(".controls",n).children().each(function(){if($(this).index()==r){var n=$('input[type="checkbox"]',this);$(n).attr("id",i);$(n).closest("label").attr("for",i)}})},300)}var r,e,o,s,h,u,f;n=t;r=$("#__checkboxOptions",i);r.children().remove();$(".controls",n).children().each(function(){var n=$('input[type="checkbox"]',this),t;n.length>0&&(e=gvDesigner.newName("__c"),o=$('input[type="checkbox"]',this).attr("id"),t=$('<li id="'+e+'"><div class="input-group"><span class="input-group-addon">&nbsp;<span class="icon-reorder">&nbsp;<\/span>&nbsp;<input id="_'+e+'" name="'+o+'" type="checkbox">&nbsp;<\/span><input class="form-control prop-option" name="rdchecklabel" value="'+$(this).text()+'" type="text" /><input class="form-control prop-option" name="rdcheckname" value="'+$(n).attr("value")+'" type="text" /><input class="form-control prop-option" name="rdcheckid" value="'+$(n).attr("id")+'" type="text" /><span class="input-group-addon">&nbsp;<span class="icon-add">&nbsp;&nbsp;&nbsp;&nbsp;<\/span>&nbsp;<span class="icon-delete">&nbsp;&nbsp;&nbsp;&nbsp;<\/span>&nbsp;<\/span><\/div><\/li>'),$(n).is(":checked")&&$('input[type="checkbox"]',t).attr("checked",!0),$(r).append(t))});s=$("#rdcitems");$("input[name='rdcheckname']",s).fadeOut(0);$("input[name='rdcheckid']",s).fadeOut(0);$("#rdcheckLabel").click(function(){var n=$("#rdcitems");$("input[name='rdcheckid']",n).fadeOut(0);$("input[name='rdcheckname']",n).fadeOut(0);$("input[name='rdchecklabel']",n).fadeIn(0)});$("#rdcheckValue").click(function(){var n=$("#rdcitems");$("input[name='rdcheckid']",n).fadeOut(0);$("input[name='rdchecklabel']",n).fadeOut(0);$("input[name='rdcheckname']",n).fadeIn(0)});$("#rdcheckId").click(function(){var n=$("#rdcitems");$("input[name='rdchecklabel']",n).fadeOut(0);$("input[name='rdcheckname']",n).fadeOut(0);$("input[name='rdcheckid']",n).fadeIn(0)});c();h=$('input[type="checkbox"]',n).first();u=$("#checkboxmin").data("kendoNumericTextBox");u.value(null);u.value(h.attr("data-parsley-mincheck"));u=$("#checkboxmax").data("kendoNumericTextBox");u.value(null);u.value(h.attr("data-parsley-maxcheck"));$('input[type="checkbox"]',r).change(function(){l(this)});$('input[name="rdchecklabel"]',r).keyup(function(){y(this)});$('input[name="rdcheckname"]',r).keyup(function(){p(this)});$('input[name="rdcheckid"]',r).keyup(function(){w(this)});$("span.icon-add",r).click(function(){a(this)});$("span.icon-delete",r).click(function(){v(this)});f=function(){var n=0;return function(t,i){clearTimeout(n);n=setTimeout(t,i)}}()},t.add=function(t,i){var r,f,u,e,s,o;return n=t,r=$("#CheckBoxTemplate").clone(),$(r).attr("id",i),$(t).find("label:first").attr("for",i),$(t).find("label:first").text("Option"),$(t).find("label:first").removeAttr("for"),$(t).find("label:first").text("Select all that Apply"),s="",o=gvDesigner.newName("field"),$(r).children().each(function(){e=gvDesigner.newName("checkbox");f=$(this).clone();u=$('input[type="checkbox"]',f);$(u).attr("id",e);$(u).attr("name",o);u.parent().attr("for",e);$(".controls",t).append(f)}),r},t.delete=function(){alert("delete")},t.placeHolder=function(n){var t=$("#CheckBoxTemplate").clone();return $(".controls",n).append(t),$(n).find("label:first").text("Check all that apply"),n},t}())});$(function(){var t;gvDesigner.register("datatable",function(){var i={};return i.click=function(i,r){var d,o,l,a,s,v,y,p,f,g;t=i;var k=$('[data-role="datatable"]',t),e=$("#__columns",r),u=$("#fieldproperties");e.children().remove();d=function(){var n=$('[data-role="datatable"]',t).attr("id");return $("#"+n)};$("th",k).each(function(){val="";n=gvDesigner.newName("__o");var t=$(this).attr("id"),i=$('<li><div class="input-group"><span class="input-group-addon">&nbsp;<span class="icon-reorder">&nbsp;<\/span>&nbsp;<input id="_'+n+'" data-id="'+t+'" type="radio" hidden name="seloption"'+val+'>&nbsp;<\/span><input data-id="'+t+'" value="'+$(this).text()+'" class="form-control" type="text"><span class="input-group-addon">&nbsp;<span class="icon-add">&nbsp;&nbsp;&nbsp;&nbsp;<\/span>&nbsp;<span class="icon-delete">&nbsp;&nbsp;&nbsp;&nbsp;<\/span>&nbsp;<\/span><\/div><\/li>');$("#fieldproperties #__columns").append($(i))});o=function(){$('#__columns input[type="text"]',u).unbind("keyup");$('#__columns input[type="text"]',u).keyup(function(){var r=$(this).closest("li"),u=r.index(),e=$('[data-role="datatable"]',t).attr("id"),n=$("#"+e),i;n.bootstrapTable("destroy");i=$("th:nth-child("+(u+1)+")",n);$(i).text(this.value);f()})};o();l=function(){$("#__height",u).unbind("keyup");$("#__height",u).keyup(function(){var n,i,r;$.isNumeric(this.value)&&(n=parseInt(this.value),n>100&&(i=$('[data-role="datatable"]',t).attr("id"),r=$("#"+i),$(r).attr("data-height",this.value),f()))})};l();a=function(){$("#__dataurl",u).unbind("keyup");$("#__dataurl",u).keyup(function(){var n=$('[data-role="datatable"]',t).attr("id"),i=$("#"+n);$(i).attr("data-url",this.value);f()})};a();s=function(){$("input[name='seloption']",u).change(function(){var n=$("input[name='seloption']",u),e=n.index(n.filter(":checked")),o=$('[data-role="datatable"]',t),i=$.extend({},o),r;i.bootstrapTable("destroy");r=$("th:nth-child("+(e+1)+")",i);$("#dtdatafield").val($(r).attr("data-field"));f()})};s();v=function(){$("#butpropId",u).unbind("keyup");$("#butpropId",u).keyup(function(){var i=$(this).val(),n=$("input[name='seloption']",u),r=n.index(n.filter(":checked"));$("button",t).each(function(n,t){n==r&&$(t).attr("id",i)})})};v();y=function(){$("#butpropName",u).unbind("keyup");$("#butpropName",u).keyup(function(){var i=$(this).val(),n=$("input[name='seloption']",u),r=n.index(n.filter(":checked"));$("button",t).each(function(n,t){n==r&&$(t).attr("name",i)})})};y();$("#__hover, #__striped, #__condensed, #__showrefresh, #__showcolumns, #__pagination, #__search",u).click(function(){f()});p=function(){var i=$('[data-role="datatable"]',t).attr("id"),n=$("#"+i);$("#__striped").prop("checked",$(n).attr("data-striped")=="true");$("#__hover").prop("checked",$(n).attr("data-hover")=="true");$("#__pagination").prop("checked",$(n).attr("data-pagination")=="true");$("#__showrefresh").prop("checked",$(n).attr("data-show-refresh")=="true");$("#__search").prop("checked",$(n).attr("data-search")=="true");$("#__showcolumns").prop("checked",$(n).attr("data-show-columns")=="true");$("#__height").val($(n).attr("data-height"));$("#__dataurl").val($(n).attr("data-url"))};p();f=function(){var h=$('[data-role="datatable"]',t).attr("id"),n=$("#"+h);n.bootstrapTable("destroy");var i=$("#__striped").prop("checked"),c=$("#__hover").prop("checked"),r=$("#__pagination").prop("checked"),u=$("#__showrefresh").prop("checked"),f=$("#__search").prop("checked"),e=$("#__showcolumns").prop("checked"),o=$(n).attr("data-height"),s=$(n).attr("data-url");$(n).attr("data-striped",i).attr("data-hover",c).attr("data-pagination",r).attr("data-search",f).attr("data-show-columns",e).attr("data-show-refresh",u).attr("data-height",o).attr("data-url",s);n.bootstrapTable({method:"get",url:s,pagination:r,striped:i,search:f,showRefresh:u,showColumns:e,height:o})};$("span.icon-add",e).click(function(){w(this)});$("span.icon-delete",e).click(function(){b(this)});var w=function w(i){var u=$('[data-role="datatable"]',t).attr("id"),r=$("#"+u),e,c;r.bootstrapTable("destroy");var h=$(i).closest("li"),l=h.index(),a=$("thead > tr",r),u=gvDesigner.newName("button"),f=$('<li><div class="input-group"><span class="input-group-addon">&nbsp;<span class="icon-reorder">&nbsp;<\/span>&nbsp;<input id="_'+n+'" type="radio" name="seloption"'+val+'>&nbsp;<\/span><input data-id="'+u+'" value="Column" class="form-control" type="text"><span class="input-group-addon">&nbsp;<span class="icon-add">&nbsp;&nbsp;&nbsp;&nbsp;<\/span>&nbsp;<span class="icon-delete">&nbsp;&nbsp;&nbsp;&nbsp;<\/span>&nbsp;<\/span><\/div><\/li>');f.insertAfter(h);e=$('<th data-field="name">Column<\/th>');c=$("th:nth-child("+(l+1)+")",r);$(e).insertAfter(c);r.bootstrapTable();$(e).ready(function(){o();s();$("span.icon-add",f).click(function(){w(this)});$("span.icon-delete",f).click(function(){b(this)})})},b=function(n){var r=$(n).closest("li"),u,f,i,e;r.siblings().length>0&&(u=r.index(),$(r).remove(),f=$('[data-role="datatable"]',t).attr("id"),i=$("#"+f),i.bootstrapTable("destroy"),e=$("th:nth-child("+(u+1)+")",i),$(e).remove(),i.bootstrapTable())},h=-1,c=-1;$("#__columns").sortable({axis:"y",placeholder:"ui-state-highlight",cursor:"move",delay:200,helper:"ui-state-highlight",start:function(n,t){isNewWidget=!1;t.placeholder.height(t.item.height());var i=$(t.item).context;h=$(i).index()},stop:function(n,i){var s=$(i.item).context,o,r,u,e;c=$(s).index();o=$('[data-role="datatable"]',t).attr("id");r=$("#"+o);r.bootstrapTable("destroy");u=$("th:nth-child("+(h+1)+")",r);e=$("th:nth-child("+(c+1)+")",r);h>c?$(u).insertBefore(e):$(u).insertAfter(e);f()}});g=function(){var n=0;return function(t,i){clearTimeout(n);n=setTimeout(t,i)}}()},i.save=function(){refreshDataTable()},i.add=function(n){t=n;var i=$("#DataTableTemplate").clone(),r=gvDesigner.newName("datatable");return $(i).attr("id",r),$(".controls",n).remove(),$("div.error",n).remove(),$("label:first",n).remove(),$(i).appendTo(n),$(i).bootstrapTable(),i},i.delete=function(){alert("delete")},i.placeHolder=function(){},i}())});$(function(){var n;gvDesigner.register("date",function(){var t={};return $("#datepickermin, #datepickermax, #datedefaultvalue").kendoDatePicker(),$("#datepickermin, #datepickermax, #datedefaultvalue").change(function(){var t=$(this).attr("value"),i=$(this).attr("data-property"),r=$('input[data-role="date"]',n);r.removeAttr("data-"+i);t!=undefined&&t!=""&&r.attr("data-"+i,t)}),t.click=function(t,i){var r,u,f,e,o;n=t;r=$('input[data-role="date"]',t);u=r.attr("id");$("#datepickermin",i).val(r.attr("data-min"));$("#datepickermax",i).val(r.attr("data-max"));$("#datedefaultvalue",i).val(r.attr("data-default"));f=$("#design-canvas");$("#dateLessThan").find("option").remove().end().append('<option value=""><\/option>');$("#dateGreaterThan").find("option").remove().end().append('<option value=""><\/option>');$('[data-role="date"]',f).each(function(){var n=$(this).attr("id"),t=$("label[for="+$(this).attr("id")+"]",f).text();u!=n&&$("#dateLessThan").append($("<option><\/option>").attr("value",n).text(t));u!=n&&$("#dateGreaterThan").append($("<option><\/option>").attr("value",n).text(t))});e=r.attr("data-beforedate");e!=null&&$("#dateLessThan").val(e.replace("#","")).attr("selected",!0);o=r.attr("data-afterdate");o!=null&&$("#dateGreaterThan").val(o.replace("#","")).attr("selected",!0)},t.add=function(t,i){var r,u;return n=t,r=$("#DateTemplate").clone(),$(".controls",t).append(r),$(r).attr("id",i),$(t).find("label:first").attr("for",i),$(t).find("label:first").text("Date"),$(r).kendoDatePicker(),u=$(".error",t),u.attr("id","err"+i),r.attr("data-error-container","#err"+i),r},t.delete=function(){alert("delete")},t.placeHolder=function(n){electedGroup=n;var t=$("#DateTemplate").clone();return $(".controls",n).append(t),$(n).find("label:first").text("Date"),$(t).kendoDatePicker(),n},$("#dateLessThan, #dateGreaterThan").change(function(){var t=$('input[data-role="date"]',n),r=$(this).attr("data-gv-property"),i;t.removeAttr(r);t.removeAttr("data-beforedate-message");t.removeAttr("data-afterdate-message");i=$(this).attr("value");i!=""&&(t.attr($(this).attr("data-gv-property"),"#"+i),$(this).attr("id")==="dateLessThan"?t.attr("data-beforedate-message","This value should be less than '"+$(this).text()+"'"):t.attr("data-afterdate-message","This value should be greater than '"+$(this).text()+"'"))}),t}())});$(function(){var n;gvDesigner.register("datetime",function(){var t={};return $("#datetimepickermin, #datetimepickermax, #datetimedefaultdatevalue").kendoDateTimePicker(),t.click=function(t,i){var r,u,f,e,o;n=t;r=$('input[data-role="datetime"]',t);u=r.attr("id");$("#datetimepickermin",i).val(r.attr("data-min"));$("#datetimepickermax",i).val(r.attr("data-max"));$("#datetimedefaultdatevalue",i).val(r.attr("data-default"));f=$("#design-canvas");$("#datetimeLessThan").find("option").remove().end().append('<option value=""><\/option>');$("#datetimeGreaterThan").find("option").remove().end().append('<option value=""><\/option>');$('[data-role="datetime"]',f).each(function(){var n=$(this).attr("id"),t=$("label[for="+$(this).attr("id")+"]",f).text();u!=n&&$("#datetimeLessThan").append($("<option><\/option>").attr("value",n).text(t));u!=n&&$("#datetimeGreaterThan").append($("<option><\/option>").attr("value",n).text(t))});e=r.attr("data-beforedate");e!=null&&$("#datetimeLessThan").val(e.replace("#","")).attr("selected",!0);o=r.attr("data-afterdate");o!=null&&$("#datetimeGreaterThan").val(o.replace("#","")).attr("selected",!0)},t.add=function(t,i){var r,u;return n=t,r=$("#DateTimeTemplate").clone(),$(".controls",t).append(r),$(r).attr("id",i),$(t).find("label:first").attr("for",i),$(t).find("label:first").text("DateTime"),$(r).kendoDateTimePicker(),u=$(".error",t),u.attr("id","err"+i),r.attr("data-error-container","#err"+i),r},t.delete=function(){alert("delete")},t.placeHolder=function(n){electedGroup=n;var t=$("#DateTimeTemplate").clone();return $(".controls",n).append(t),$(n).find("label:first").text("Date Time"),$(t).kendoDateTimePicker(),n},$("#datetimepickermin, #datetimepickermax, #datetimedefaultdatevalue").change(function(){var t=$(this).val(),i=$(this).attr("data-property"),r=$('input[data-role="datetime"]',n);r.removeAttr("data-"+i);t!=undefined&&t!=""&&r.attr("data-"+i,t)}),$("#datetimeLessThan, #datetimeGreaterThan").change(function(){var t=$('input[data-role="datetime"]',n),r=$(this).attr("data-gv-property"),i;t.removeAttr(r);t.removeAttr("data-beforedate-message");t.removeAttr("data-afterdate-message");i=$(this).val();i!=""&&(t.attr($(this).attr("data-gv-property"),"#"+i),$(this).attr("id")==="datetimeLessThan"?t.attr("data-beforedate-message","This value should be less than '"+$(this).text()+"'"):t.attr("data-afterdate-message","This value should be greater than '"+$(this).text()+"'"))}),t}())});$(function(){var n;gvDesigner.register("time",function(){var t={};return $("#timepickermin, #timepickermax, #timedefaultvalue").kendoTimePicker(),$("#timepickermin, #timepickermax, #timedefaultvalue").change(function(){var t=$(this).attr("value"),i=$(this).attr("data-property"),r=$('input[data-role="time"]',n);r.removeAttr("data-"+i);t!=undefined&&t!=""&&r.attr("data-"+i,t)}),t.click=function(t,i){var r,u,f,e,o;n=t;r=$('input[data-role="time"]',t);u=r.attr("id");$("#timepickermin",i).val(null).val(r.attr("data-min"));$("#timepickermax",i).val(null).val(r.attr("data-max"));$("#timedefaultvalue",i).val(null).val(r.attr("data-default"));f=$("#design-canvas");$("#timeLessThan").find("option").remove().end().append('<option value=""><\/option>');$("#timeGreaterThan").find("option").remove().end().append('<option value=""><\/option>');$('[data-role="time"]',f).each(function(){var n=$(this).attr("id"),t=$("label[for="+$(this).attr("id")+"]",f).text();u!=n&&$("#timeLessThan").append($("<option><\/option>").attr("value",n).text(t));u!=n&&$("#timeGreaterThan").append($("<option><\/option>").attr("value",n).text(t))});e=r.attr("data-beforedate");e!=null&&$("#timeLessThan").val(e.replace("#","")).attr("selected",!0);o=r.attr("data-afterdate");o!=null&&$("#timeGreaterThan").val(o.replace("#","")).attr("selected",!0)},t.add=function(t,i){var r,u;return n=t,r=$("#TimeTemplate").clone(),$(".controls",t).append(r),$(r).attr("id",i),$(t).find("label:first").attr("for",i),$(t).find("label:first").text("Time"),$(r).kendoTimePicker(),u=$(".error",t),u.attr("id","err"+i),r.attr("data-error-container","#err"+i),r},t.delete=function(){alert("delete")},t.placeHolder=function(n){electedGroup=n;var t=$("#TimeTemplate").clone();return $(".controls",n).append(t),$(n).find("label:first").text("Time"),$(t).kendoTimePicker(),n},$("#timeLessThan, #timeGreaterThan").change(function(){var t=$('input[data-role="time"]',n),r=$(this).attr("data-gv-property"),i;t.removeAttr(r);t.removeAttr("data-beforedate-message");t.removeAttr("data-afterdate-message");i=$(this).attr("value");i!=""&&(t.attr($(this).attr("data-gv-property"),"#"+i),$(this).attr("id")==="timeLessThan"?t.attr("data-beforedate-message","This value should be less than '"+$(this).text()+"'"):t.attr("data-afterdate-message","This value should be greater than '"+$(this).text()+"'"))}),t}())});$(function(){var n;gvDesigner.register("header",function(){var t={};return t.click=function(t){n=t;$("#headerdefautvalue").val($(":header",n).text());$("#subheaderdefautvalue").val($("div.controls > p",n).text());var i=$(":header",n);$("#headeroption option").removeAttr("selected");$('#headeroption option[value="'+i.get(0).tagName.toLowerCase()+'"]').attr("selected","selected")},t.add=function(t,i){var r,u;return n=t,$(t).addClass("brdbot"),r=$("#HeaderTemplate").clone(),$(".controls",t).append(r),$("div.error",t).replaceWith(""),$(r).attr("id",i),u=$(t).find("label:first"),u.replaceWith("<h3>Header<\/h3>"),r},t.delete=function(){alert("delete")},t.placeHolder=function(){return $("<h3>Header<\/h3>")},$("#headerdefautvalue").keyup(function(){var t=this.value;$(":header",n).text(t)}),$("#subheaderdefautvalue").keyup(function(){var t=this.value;$("div.controls > p",n).closest("div").removeClass("control-inline");$("div.controls > p",n).text(t)}),$("#headeroption").change(function(){var t=$(":header",n);t.replaceWith($("<"+this.value+">"+t.text()+"<\/"+this.value+">"))}),t}())});$(function(){var n;gvDesigner.register("lookup",function(){var t={};return t.click=function(t){n=t;var i=$(n).find('.controls > input[type="text"]:first')},t.placeHolder=function(n){var t=$("#LookupTemplate").clone();return $(".controls",n).append(t),$(n).find("label:first").text("Untitled"),n},t.add=function(t,i){n=t;var r=$("#LookupTemplate").clone();return $(".controls",t).append(r),$(r).attr("id",i),$(t).find("label:first").attr("for",i),$(t).find("label:first").text("Untitled"),r},t.delete=function(){alert("delete")},t}())});$(function(){var n;gvDesigner.register("mask",function(){var t={};return t.click=function(t,i){n=t;var r=$('input[data-role="mask"]',t);$("#maskman",i).val(r.attr("data-mask"))},t.add=function(t,i){n=t;var r=$("#MaskTemplate").clone();return $(".controls",t).append(r),$(r).attr("id",i),$(t).find("label:first").attr("for",i),$(t).find("label:first").text("Mask"),r},t.delete=function(){alert("delete")},t.placeHolder=function(n){var t=$("#MaskTemplate").clone();return $(".controls",n).append(t),$(n).find("label:first").text("Mask"),n},$("#maskman").keyup(function(){var t=$(this).val(),i=$(this).attr("data-property");$('input[data-role="mask"]',n).attr("data-"+i,t)}),t}())});$(function(){var n;gvDesigner.register("numeric",function(){var r={},i,t;return $("#numdefaultvalue, #numminvalue, #nummaxvalue").kendoNumericTextBox(),r.click=function(t,i){var f,u,e,o,s,h;n=t;var r=$('input[data-role="numeric"]',t),c=$("#numericFormat",i),l=r.attr("data-format");$(c).val(l).attr("selected",!0);f=r.attr("id");u=$("#numminvalue",i).data("kendoNumericTextBox");u.value(null);r.attr("data-parsley-min")!=null&&u.value(r.attr("data-parsley-min"));u=$("#nummaxvalue",i).data("kendoNumericTextBox");u.value(null);r.attr("data-parsley-max")!=null&&u.value(r.attr("data-parsley-max"));u=$("#numdefaultvalue",i).data("kendoNumericTextBox");u.value(null);r.attr("data-default")!=null&&u.value(r.attr("data-default"));e=!1;r.attr("data-negative")=="true"&&(e=!0);$("#numericAllowNegative",i).attr("checked",e);o=$("#design-canvas");$("#numlessThan").find("option").remove().end().append('<option value=""><\/option>');$("#numGreaterThan").find("option").remove().end().append('<option value=""><\/option>');$('[data-role="numeric"]',o).each(function(){var n=$(this).attr("id"),t=$("label[for="+$(this).attr("id")+"]",o).text();f!=n&&$("#numlessThan").append($("<option><\/option>").attr("value",n).text(t));f!=n&&$("#numGreaterThan").append($("<option><\/option>").attr("value",n).text(t))});s=r.attr("data-lessthan");s!=null&&$("#numlessThan").val(s.replace("#","")).attr("selected",!0);h=r.attr("data-greaterthan");h!=null&&$("#numGreaterThan").val(h.replace("#","")).attr("selected",!0)},r.add=function(t,i){var r,u;return n=t,r=$("#NumericTemplate").clone(),$(".controls",t).append(r),$(r).attr("id",i),$(t).find("label:first").attr("for",i),$(t).find("label:first").text("Numeric"),$(r).kendoNumericTextBox(),u=$(".error",t),u.attr("id","err"+i),r.attr("data-error-container","#err"+i),r},r.delete=function(){alert("delete")},r.placeHolder=function(n){electedGroup=n;var t=$("#NumericTemplate").clone();return $(".controls",n).append(t),$(n).find("label:first").text("Numeric"),$(t).kendoNumericTextBox(),n},$("#numlessThan, #numGreaterThan").change(function(){var t=$('input[data-role="numeric"]',n),r=$(this).attr("data-gv-property"),i;t.removeAttr(r);t.removeAttr("data-lessthan-message");t.removeAttr("data-greaterthan-message");i=$(this).attr("value");i!=""&&(t.attr($(this).attr("data-gv-property"),"#"+i),$(this).attr("id")==="numlessThan"?t.attr("data-lessthan-message","This value should be less than '"+$(this).text()+"'"):t.attr("data-greaterthan-message","This value should be greater than '"+$(this).text()+"'"))}),i=function(t,i){var r=t.value(),u=$('input[data-role="numeric"]',n);u.attr(i,r)},t=$("#numminvalue").data("kendoNumericTextBox"),t.bind("change",function(){i(this,"data-parsley-min")}),t.bind("spin",function(){i(this,"data-parsley-min")}),t=$("#nummaxvalue").data("kendoNumericTextBox"),t.bind("change",function(){i(this,"data-parsley-max")}),t.bind("spin",function(){i(this,"data-parsley-max")}),t=$("#numdefaultvalue").data("kendoNumericTextBox"),t.bind("change",function(){i(this,"data-default")}),t.bind("spin",function(){i(this,"data-default")}),$("#numericFormat").change(function(){var t=$('input[data-role="numeric"]',n);t.attr("data-format",this.value)}),$("#numericAllowNegative").change(function(){var t=$('input[data-role="numeric"]',n);t.attr("data-negative",$(this).is(":checked"))}),r}())});$(function(){var n;gvDesigner.register("panel",function(){var t={};return t.click=function(t){n=t},t.add=function(n,t){var i=$(t.item).context,r=$(document.getElementById("panel1Template")).clone();$(i).replaceWith(r)},t.delete=function(){alert("delete")},t.placeHolder=function(){return $("#panel1Template").clone()},t}())});$(function(){var n;gvDesigner.register("paragraph",function(){var t={};return t.click=function(t){n=t;$("#paragraphdefautvalue").val($("p",n).text());$("#paragraphdefautvalue").keyup(function(){var t=this.value;$("p",n).text(t)});$("#paragraphoption").change(function(){var t=$(":header",n);t.replaceWith($("<"+this.value+">"+t.text()+"<\/"+this.value+">"))})},t.add=function(t,i){var r,u,f;return n=t,r=$("#ParagraphTemplate").clone(),$(".controls",t).replaceWith(""),$("div.error",t).replaceWith(""),$(r).attr("id",i),u=$(t).find("label:first"),f="<p>Nullam quis risus eget urna mollis ornare vel eu leo. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nullam id dolor id nibh ultricies vehicula.<\/p>",u.replaceWith(f),r},t.delete=function(){alert("delete")},t.placeHolder=function(){return $("<p>Nullam quis risus eget urna mollis ornare vel eu leo. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nullam id dolor id nibh ultricies vehicula.<\/p>")},t}())});$(function(){var t;gvDesigner.register("pills",function(){var i={};return i.click=function(i,r){var f,u,e,h,c,l,o,s,a,v;t=i;f=$("#__pills",r);u=$("#fieldproperties");f.children().remove();$("ul > li",t).each(function(){val="";n=gvDesigner.newName("__o");var t=$(this).attr("id"),i=$('<li><div class="input-group"><span class="input-group-addon">&nbsp;<span class="icon-reorder">&nbsp;<\/span>&nbsp;<input id="_'+n+'" data-id="'+t+'" type="radio" name="selpilloption"'+val+'>&nbsp;<\/span><input data-id="'+t+'" value="'+$(this).text()+'" class="form-control" type="text"><span class="input-group-addon">&nbsp;<span class="icon-add">&nbsp;&nbsp;&nbsp;&nbsp;<\/span>&nbsp;<span class="icon-delete">&nbsp;&nbsp;&nbsp;&nbsp;<\/span>&nbsp;<\/span><\/div><\/li>');$("#fieldproperties #__pills").append($(i))});e=function(){$('#__pills input[type="text"]',u).unbind("keyup");$('#__pills input[type="text"]',u).keyup(function(){var n=$(this).attr("data-id"),t=$("#"+n+" > a");$(t).text(this.value)})};e();h=function(){$("input[name='selpilloption']",u).change(function(){var n=$("input[name='selpilloption']",u),i=n.index(n.filter(":checked"));$("ul > li",t).each(function(n,t){n==i&&($("#pillpropId",u).val($(t).attr("id")),$("#pillpropName",u).val($(t).attr("name")))})})};h();c=function(){$("#pillpropId",u).unbind("keyup");$("#pillpropId",u).keyup(function(){var i=$(this).val(),n=$("input[name='selpilloption']",u),r=n.index(n.filter(":checked"));$("ul > li",t).each(function(n,t){n==r&&$(t).attr("id",i)})})};c();l=function(){$("#pillpropName",u).unbind("keyup");$("#pillpropName",u).keyup(function(){var i=$(this).val(),n=$("input[name='selpilloption']",u),r=n.index(n.filter(":checked"));$("ul > li",t).each(function(n,t){n==r&&$(t).attr("name",i)})})};l();$("span.icon-add",f).click(function(){o(this)});$("span.icon-delete",f).click(function(){s(this)});o=function o(i){var f=$(i).closest("li"),l=f.index(),a=$("li",t).parent(),h=gvDesigner.newName("pill"),u=$('<li><div class="input-group"><span class="input-group-addon">&nbsp;<span class="icon-reorder">&nbsp;<\/span>&nbsp;<input id="_'+n+'" type="radio" name="selpilloption"'+val+'>&nbsp;<\/span><input data-id="'+h+'" value="Navigation" class="form-control" type="text"><span class="input-group-addon">&nbsp;<span class="icon-add">&nbsp;&nbsp;&nbsp;&nbsp;<\/span>&nbsp;<span class="icon-delete">&nbsp;&nbsp;&nbsp;&nbsp;<\/span>&nbsp;<\/span><\/div><\/li>'),r,c;u.insertAfter(f);r=$("<li><a>Navigation<\/a><\/li>").clone();$(r).attr("id",h);c=$(a).children().eq(l);$(r).insertAfter(c);r.before(" ").after(" ");$(r).ready(function(){e();$("span.icon-add",u).click(function(){o(this)});$("span.icon-delete",u).click(function(){s(this)})})};s=function(n){var i=$(n).closest("li"),r;i.siblings().length>0&&(r=$(n).parent().siblings("input").attr("data-id"),$("#"+r,t).remove(),$(i).remove())};$("#__pills").sortable({axis:"y",placeholder:"ui-state-highlight",cursor:"move",delay:200,helper:"ui-state-highlight",start:function(n,t){t.placeholder.height(t.item.height())},stop:function(n,t){var u=$(t.item).context,i=$('input[type="text"]',u).attr("data-id"),r=$("#design-canvas"),f=$("#"+i,r).parent();$("#__pills li").each(function(){i=$('input[type="text"]',this).attr("data-id");var n=$("#"+i,r);$(n).appendTo(f)})}});a=$("ul",t).hasClass("nav-stacked");$("#__pillStacked").prop("checked",a);$("#__pillStacked").change(function(){$(this).is(":checked")==!0?$("ul",t).addClass("nav-stacked"):$("ul",t).removeClass("nav-stacked")});v=function(){var n=0;return function(t,i){clearTimeout(n);n=setTimeout(t,i)}}()},i.add=function(n){var i,r,u;return t=n,i=$("#PillsTemplate").clone(),r=gvDesigner.newName("pill"),$(".controls",n).remove(),$("div.error",n).remove(),$("label:first",n).remove(),$(i).children().each(function(){u=gvDesigner.newName("pill");$(this).attr("id",u)}),$(i).attr("id",r).appendTo(n),i},i.delete=function(){alert("delete")},i.placeHolder=function(){return $("#PillsTemplate").clone()},i}())});$(function(){var n;gvDesigner.register("radio",function(){var t={};return t.click=function(t,i){function s(t){var i=$(t).parent().parent().index(),r=$(t).is(":checked");$(".controls",n).children().each(function(){$('input[type="radio"]',this).removeAttr("checked");$(this).index()==i&&$('input[type="radio"]',this).attr("checked",r)})}function h(t){var i=$(t).parent().parent().index(),r=$(t).val();u(function(){$(".controls",n).children().each(function(){if($(this).index()==i){var n=$('input[type="radio"]',this);$(this).text(r);$(this).prepend(n)}})},300)}function c(t){var i=$(t).parent().parent().index(),r=$(t).val();u(function(){$(".controls",n).children().each(function(){if($(this).index()==i){var n=$('input[type="radio"]',this);$(n).attr("value",r)}})},300)}function l(t){var r=$(t).parent().parent().index(),i=$(t).val();u(function(){$(".controls",n).children().each(function(){if($(this).index()==r){var n=$('input[type="radio"]',this);$(n).attr("id",i);$(n).closest("label").attr("for",i)}})},300)}function a(t){var e=$(t).parent().parent().parent(),u="",f,o=e.index(),i;$(".controls",n).children().each(function(){if($(this).index()==o){u=gvDesigner.newName("radio");f=$('input[type="radio"]',this).attr("name");var n=$('<label class="radio"><input id="'+u+'" name="'+f+'" type="radio" ><\/label>');$(n).insertAfter($(this))}});i=$('<li id="'+u+'"><div class="input-group"><span class="input-group-addon">&nbsp;<span class="icon-reorder">&nbsp;<\/span>&nbsp;<input id="_'+u+'" name=_"'+f+'" type="radio">&nbsp;<\/span><input class="prop-option form-control" name="rdslabel" value="" type="text" /><input class="prop-option form-control" name="rdsvalue" type="text" /><input class="prop-option form-control" name="rdsid" type="text" /><span class="input-group-addon">&nbsp;<span class="icon-add">&nbsp;&nbsp;&nbsp;&nbsp;<\/span>&nbsp;<span class="icon-delete">&nbsp;&nbsp;&nbsp;&nbsp;<\/span>&nbsp;<\/span><\/div><\/li>');i.insertAfter($(e));$("input[name='rdsvalue']",i).fadeOut(0);$("input[name='rdsid']",i).fadeOut(0);$('input[name="rdslabel"]',r).keyup(function(){h(this)});$('input[name="rdsvalue"]',r).keyup(function(){c(this)});$('input[name="rdsid"]',r).keyup(function(){l(this)});$('input[type="radio"]',i).change(function(){s(this)});$("span.icon-add",i).click(function(){a(this)});$("span.icon-delete",i).click(function(){v(this)});gvDesigner.spread()}function v(t){var i=$(t).parent().parent().parent(),r=i.index();i.siblings().length>0&&$(i).remove();$(".controls",n).children().each(function(){$(this).index()==r&&($(this).remove(),r=-99)});gvDesigner.spread()}var r,f,o,e,u;n=t;r=$("#__radioItems",i);r.children().remove();$(".controls",n).children().each(function(){var n=$('input[type="radio"]',this),t;n.length>0&&(f=$('input[type="radio"]',this).attr("id"),o=$('input[type="radio"]',this).attr("name"),t=$('<li id="'+f+'"><div class="input-group"><span class="input-group-addon">&nbsp;<span class="icon-reorder">&nbsp;<\/span>&nbsp;<input id="_'+f+'" name=_"'+o+'" type="radio">&nbsp;<\/span><input class="prop-option form-control" name="rdslabel" value="'+$(this).text()+'" type="text" /><input class="prop-option form-control" name="rdsvalue" value="'+$(n).attr("value")+'" type="text" /><input class="prop-option form-control" name="rdsid" value="'+$(n).attr("id")+'" type="text" /><span class="input-group-addon">&nbsp;<span class="icon-add">&nbsp;&nbsp;&nbsp;&nbsp;<\/span>&nbsp;<span class="icon-delete">&nbsp;&nbsp;&nbsp;&nbsp;<\/span>&nbsp;<\/span><\/div><\/li>'),$(n).is(":checked")&&$('input[type="radio"]',t).attr("checked",!0),$(r).append(t))});e=$("#rdsitem");$("input[name='rdsvalue']",e).fadeOut(0);$("input[name='rdsid']",e).fadeOut(0);$("#rdselectLabel").click(function(){var n=$("#rdsitem");$("input[name='rdsid']",n).fadeOut(0);$("input[name='rdsvalue']",n).fadeOut(0);$("input[name='rdslabel']",n).fadeIn(0)});$("#rdselectValue").click(function(){var n=$("#rdsitem");$("input[name='rdslabel']",n).fadeOut(0);$("input[name='rdsid']",n).fadeOut(0);$("input[name='rdsvalue']",n).fadeIn(0)});$("#rdselectId").click(function(){var n=$("#rdsitem");$("input[name='rdslabel']",n).fadeOut(0);$("input[name='rdsvalue']",n).fadeOut(0);$("input[name='rdsid']",n).fadeIn(0)});$('input[type="radio"]',r).change(function(){s(this)});$('input[name="rdslabel"]',r).keyup(function(){h(this)});$('input[name="rdsvalue"]',r).keyup(function(){c(this)});$('input[name="rdsid"]',r).keyup(function(){l(this)});$("span.icon-add",r).click(function(){a(this)});$("span.icon-delete",r).click(function(){v(this)});u=function(){var n=0;return function(t,i){clearTimeout(n);n=setTimeout(t,i)}}()},t.add=function(t){var r,u,i,f,e;return n=t,r=$("#RadioTemplate").clone(),$(t).find("label:first").removeAttr("for"),$(t).find("label:first").text("Select a Choice"),e=gvDesigner.newName("field"),$(r).children().each(function(){f=gvDesigner.newName("radio");u=$(this).clone();i=$('input[type="radio"]',u);$(i).attr("id",f);$(i).attr("name",e);i.parent().attr("for",f);$(".controls",t).append(u)}),r},t.delete=function(){alert("delete")},t.placeHolder=function(n){var t=$("#RadioTemplate").clone();return $(".controls",n).append(t),$(n).find("label:first").text("Select an Option"),n},t}())});$(function(){var n;gvDesigner.register("select",function(){var t={};return t.click=function(t,i){function h(n){var r=$(n).parent().parent().parent(),i=gvDesigner.newName("__r"),t=$('<li id="'+i+'"><div class="input-group"><span class="input-group-addon">&nbsp;<span class="icon-reorder">&nbsp;<\/span>&nbsp;<input id="_'+i+'" type="radio">&nbsp;<\/span><input class="form-control" value="" type="text" /><span class="input-group-addon">&nbsp;<span class="icon-add">&nbsp;&nbsp;&nbsp;&nbsp;<\/span>&nbsp;<span class="icon-delete">&nbsp;&nbsp;&nbsp;&nbsp;<\/span>&nbsp;<\/span><\/div><\/li>');t.insertAfter($(r));a();$('input[type="text"]',t).keyup(function(){onSelectKeyUp(this)});$('input[type="radio"]',t).change(function(){l(this)});$("span.icon-add",t).click(function(){h(this)});$("span.icon-delete",t).click(function(){c(this)})}function c(n){var t=$(n).parent().parent().parent();t.siblings().length>0&&($(t).remove(),a())}function v(t){var u=$(t).parent().parent().index(),i=$(t).val();o(function(){$("option",n).each(function(){$(this).index()==u&&($(r).attr("id",i),$(this).text(i))})},300)}function y(t){var i=$(t).parent().parent().index(),r=$(t).val();o(function(){$("option",n).each(function(){$(this).index()==i&&$(this).val(r)})},300)}function l(t){var i=$(t).parent().parent().index();$("option",n).each(function(){$(this).attr("selected",!1);$(this).removeAttr("selected")});$("option",n).each(function(){$(this).index()==i&&$(this).attr("selected",!0)})}function a(){var t=$("option:selected",n).val();$("select",n).children().remove();$("#__selectOptions > li").each(function(){var t=$('input[type="text"]',this).val();$("select",n).append($('<option value="'+t+'">'+t+"<\/option>"))});$("select",n).val(t).attr("selected",!0)}var u,s,f,e,r,o;n=t;u=$("#__selectOptions",i);u.children().remove();s=$("option:selected",n);$("option",n).each(function(){f="";e=gvDesigner.newName("__o");$(s).val()==$(this).val()&&(f='checked="true"');var n='<li id="'+e+'"><div class="input-group"><span class="input-group-addon">&nbsp;<span class="icon-reorder">&nbsp;<\/span>&nbsp;<input id="_'+e+'" type="radio" name="seloption"'+f+'>&nbsp;<\/span><input name="__rdselectlabel" class="form-control" value="'+$(this).text()+'" type="text" /><input  name="__rdselectvalue" class="form-control hidden" value="'+$(this).attr("value")+'" type="text" /><span class="input-group-addon">&nbsp;<span class="icon-add">&nbsp;&nbsp;&nbsp;&nbsp;<\/span>&nbsp;<span class="icon-delete">&nbsp;&nbsp;&nbsp;&nbsp;<\/span>&nbsp;<\/span><\/div><\/li>';$("#fieldproperties #__selectOptions").append($(n))});r=$("#___rdselectitems");$("input[name='__rdselectvalue']",r).addClass("hidden");$("input[name='__rdselectvalue']",r).addClass("hidden");$("#___rdselectLabel").click(function(){var n=$("#___rdselectitems");$("input[name='__rdselectvalue']",r).addClass("hidden");$("input[name='__rdselectlabel']",r).removeClass("hidden")});$("#___rdselectValue").click(function(){var n=$("#___rdselectitems");$("input[name='__rdselectlabel']",r).addClass("hidden");$("input[name='__rdselectvalue']",r).removeClass("hidden")});$('input[name="__rdselectlabel"]',u).keyup(function(){v(this)});$('input[name="__rdselectvalue"]',u).keyup(function(){y(this)});$('input[type="radio"]',u).change(function(){l(this)});$("span.icon-add",u).click(function(){h(this)});$("span.icon-delete",u).click(function(){c(this)});o=function(){var n=0;return function(t,i){clearTimeout(n);n=setTimeout(t,i)}}()},t.placeHolder=function(t){n=t;var i=$("#SelectTemplate").clone();return $(".controls",t).append(i),$(t).find("label:first").text("Select"),t},t.add=function(t,i){n=t;var r=$("#SelectTemplate").clone();return $(".controls",t).append(r),$(r).attr("id",i),$(t).find("label:first").attr("for",i),$(t).find("label:first").text("Select"),r},t.delete=function(){alert("delete")},t}())});$(function(){var t,r=function(){var n=$('input[data-role="slider"]',gvDesigner.selectedGroup),r=n.attr("data-property-orientation"),u=n.attr("data-property-min"),f=n.attr("data-property-max"),e=n.attr("data-property-showbutton"),o=n.attr("value"),t=n.clone(),i=n.parentsUntil(".controls"),s;i.children().remove();t.css("display","");i.append(t);s=t.kendoSlider({showButtons:e==="true",orientation:r,value:parseInt(o),min:parseInt(u),max:parseInt(f)}).data("kendoSlider")},i,n;$("#sliderShowButtons").change(function(){var n=$(this).is(":checked");$('input[data-role="slider"]',gvDesigner.selectedGroup).attr("data-property-showbutton",n);r()});$("#sliderOrientation").change(function(){var n=$(this).val();$('input[data-role="slider"]',gvDesigner.selectedGroup).attr("data-property-orientation",n)});i=function(n){var i=n.value(),r=$('input[data-role="slider"]',t),u;r.attr(n.element.attr("data-property"),i);u=$(r).data("kendoNumericTextBox");n.value=i};n=function(n){var t=$("#"+n).kendoNumericTextBox({format:"n0"}).data("kendoNumericTextBox");t.bind("spin",function(){i(this)});t.bind("change",function(){i(this)})};n("sliderdefaultvalue");n("slidernumminvalue");n("slidernummaxvalue");gvDesigner.register("slider",function(){var n={};return n.click=function(n){t=n},n.add=function(n,i){t=n;var r=$("#SliderTemplate").clone();return $(".controls",n).append(r),$(r).attr("id",i),$(n).find("label:first").attr("for",i),$(n).find("label:first").text("Slider"),$(r).kendoSlider({orientation:"horizontal"}),r},n.delete=function(){alert("delete")},n}())});$(function(){var n;gvDesigner.register("text",function(){function i(){var t=$(n).find('.controls > input[type="text"]:first'),u=$("#textLimitType :selected").text(),i=$("#textminvalue").val(),r=$("#textmaxvalue").val();t.removeAttr("data-parsley-minwords");t.removeAttr("data-parsley-maxwords");t.removeAttr("data-parsley-minlength");t.removeAttr("data-parsley-maxlength");u=="String"?(i>0&&t.attr("data-parsley-minlength",i),r>0&&$(t).attr("data-parsley-maxlength",r)):(i>0&&t.attr("data-parsley-minwords",i),r>0&&$(t).attr("data-parsley-maxwords",r))}var t={};return $("#textminvalue, #textmaxvalue").kendoNumericTextBox({change:i,spin:i,min:0,format:"#,###"}),$("#textLimitType").change(function(){i()}),t.click=function(t){var r,i;n=t;var u="",f=$(n).find('.controls > input[type="text"]:first'),i=$("#textminvalue").data("kendoNumericTextBox");i.value(null);i=$("#textmaxvalue").data("kendoNumericTextBox");i.value(null);r=f.attr("data-parsley-minwords");r!==undefined&&(i=$("#textminvalue").data("kendoNumericTextBox"),i.value(r),u="Word");r=f.attr("data-parsley-maxwords");r!==undefined&&(i=$("#textmaxvalue").data("kendoNumericTextBox"),i.value(r),u="Word");i=$("#textminvalue").data("kendoNumericTextBox");r=f.attr("data-parsley-minlength");r!==undefined&&(i.value(r),u="String");i=$("#textmaxvalue").data("kendoNumericTextBox");r=f.attr("data-parsley-maxlength");r!==undefined&&(i.value(r),u="String");$("#textLimitType").val(u).attr("selected",!0)},t.placeHolder=function(n){var t=$("#TextTemplate").clone();return $(".controls",n).append(t),$(n).find("label:first").text("Untitled"),n},t.add=function(t,i){n=t;var r=$("#TextTemplate").clone();return $(".controls",t).append(r),$(r).attr("id",i),$(t).find("label:first").attr("for",i),$(t).find("label:first").text("Untitled"),r},t.delete=function(){alert("delete")},t}())});$(function(){var n;gvDesigner.register("textarea",function(){function i(){var t=$(".controls textarea",n),u=$("#textareaLimitType :selected").text(),i=$("#textareaminvalue").val(),r=$("#textareamaxvalue").val();t.removeAttr("data-minwords");t.removeAttr("data-maxwords");t.removeAttr("data-minlength");t.removeAttr("data-maxlength");u=="String"?(i>0&&t.attr("data-minlength",i),r>0&&$(t).attr("data-maxlength",r)):(i>0&&t.attr("data-minwords",i),r>0&&$(t).attr("data-maxwords",r))}var t={};return $("#textareaminvalue, #textareamaxvalue").kendoNumericTextBox({change:i,spin:i,min:0,format:"#,###"}),$("#textareaLimitType").change(function(){i()}),t.click=function(t){var r,i;n=t;var u="",f=$(".controls textarea",n),i=$("#textareaminvalue").data("kendoNumericTextBox");i.value(null);i=$("#textareamaxvalue").data("kendoNumericTextBox");i.value(null);r=f.attr("data-minwords");r!==undefined&&(i=$("#textareaminvalue").data("kendoNumericTextBox"),i.value(r),u="Word");r=f.attr("data-maxwords");r!==undefined&&(i=$("#textareamaxvalue").data("kendoNumericTextBox"),i.value(r),u="Word");i=$("#textareaminvalue").data("kendoNumericTextBox");r=f.attr("data-minlength");r!==undefined&&(i.value(r),u="String");i=$("#textareamaxvalue").data("kendoNumericTextBox");r=f.attr("data-maxlength");r!==undefined&&(i.value(r),u="String");$("#textareaLimitType").val(u).attr("selected",!0)},t.add=function(t,i){n=t;var r=$("#TextAreaTemplate").clone();return $(".controls",t).append(r),$(r).attr("id",i),$(t).find("label:first").attr("for",i),$(t).find("label:first").text("Untitled"),r},t.delete=function(){alert("delete")},t.placeHolder=function(n){var t=$("#TextAreaTemplate").clone();return $(".controls",n).append(t),$(n).find("label:first").text("Untitled"),n},t}())})